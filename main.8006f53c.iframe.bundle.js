(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1121:function(module,exports){},1123:function(module,exports){},1133:function(module,exports){},1135:function(module,exports){},1160:function(module,exports){},1162:function(module,exports){},1163:function(module,exports){},1168:function(module,exports){},1170:function(module,exports){},1189:function(module,exports){},1201:function(module,exports){},1204:function(module,exports){},1211:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1212);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1212:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,"html,\nbody {\n  height: 100%;\n  width: 100%;\n  padding: 0;\n  margin: 0;\n}\n\na {\n  text-decoration: none;\n}\n\n* {\n  box-sizing: border-box;\n}\n\n.react-pdf__Page__textContent span {\n  opacity: 0.25;\n}\n\n.react-pdf__Page__textContent span::-moz-selection {\n  background-color: blue;\n}\n\n.react-pdf__Page__textContent span::selection {\n  background-color: blue;\n}\n\n.react-pdf__Document {\n  line-height: 1;\n}\n\n.hypothesis-highlight {\n  background-color: yellow !important;\n}\n\n.hypothesis-highlight::-moz-selection {\n  background-color: blue;\n}\n\n.hypothesis-highlight::selection {\n  background-color: blue;\n}\n\n/*Dont hide the scrollbar when modal is open. Prevent manuscript's width from changing and removing highlights*/\nbody.bx--body--with-modal-open {\n  overflow: auto;\n}\n",""]),module.exports=exports},1215:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(505).configure)([__webpack_require__(1216),__webpack_require__(1218),__webpack_require__(1219)],module,!1)}).call(this,__webpack_require__(100)(module))},1216:function(module,exports,__webpack_require__){var map={"./Introduction.stories.mdx":641};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1216},1218:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=1218},1219:function(module,exports,__webpack_require__){var map={"./features/ati/AtiExportAnnotations/AtiExportAnnotations.stories.tsx":1366,"./features/ati/AtiExportAnnotations/DeleteAnnotationsModal/DeleteAnnnotationsModal.stories.tsx":1245,"./features/ati/AtiManuscript/AtiManuscript.stories.tsx":1367,"./features/ati/AtiManuscript/DatasourceModal/DatasourceModal.stories.tsx":1317,"./features/ati/AtiManuscript/DeleteManuscriptModal/DeleteManuscriptModal.stories.tsx":1318,"./features/ati/AtiManuscript/IngestPdf/IngestPdf.stories.tsx":1319,"./features/ati/AtiManuscript/UploadManuscriptModal/UploadManuscriptModal.stories.tsx":1320,"./features/ati/AtiProject/AtiProject.stories.tsx":1321,"./features/ati/AtiProjects/AtiProjects.stories.tsx":1362,"./features/ati/AtiSettings/AtiSettings.stories.tsx":1371,"./features/ati/AtiSettings/DeleteAtiModal/DeleteAtiModal.stories.tsx":1327,"./features/ati/AtiSummary/AtiSummary.stories.tsx":1372,"./features/ati/AtiTab/AtiTab.stories.tsx":1373,"./features/ati/NewAtiProjectForm/NewAtiProjectForm.stories.tsx":1363,"./features/auth/HypothesisLoginNotificaton/HypothesisLoginNotification.stories.tsx":1351,"./features/auth/LoginForm/LoginForm.stories.tsx":1374,"./features/components/AppBar/AppBar.stories.tsx":1352,"./features/components/AppDesc/AppDesc.stories.tsx":1353,"./features/components/AppGuide/AppGuide.stories.tsx":1375,"./features/components/HomePageTitle/HomePageTitle.stories.tsx":1376,"./features/error/ErrorContainer/ErrorContainer.stories.tsx":1377,"./stories/Introduction.stories.mdx":641};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1219},1242:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AtiExportAnnotations-module__downloadContainer__2Zi-Y {\n  display: grid;\n  grid-template-columns: auto auto;\n  justify-content: start;\n  -moz-column-gap: 32px;\n       column-gap: 32px;\n}\n\n.AtiExportAnnotations-module__formContainer__2HhwQ {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 128px;\n}\n\n.AtiExportAnnotations-module__deleteForm__2e0sW {\n  padding: 24px;\n  border: 1px solid red;\n  border-radius: 10px;\n}\n\n.AtiExportAnnotations-module__copyAction__RVML0 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 0.5rem;\n}\n\n.AtiExportAnnotations-module__copyButton__2wFUx {\n  background-color: transparent;\n}\n\n.AtiExportAnnotations-module__copyButton__2wFUx > svg {\n  fill: #0f62fe;\n}\n\n.AtiExportAnnotations-module__copyButton__2wFUx:hover {\n  background-color: white;\n}\n",""]),exports.locals={downloadContainer:"AtiExportAnnotations-module__downloadContainer__2Zi-Y",formContainer:"AtiExportAnnotations-module__formContainer__2HhwQ",deleteForm:"AtiExportAnnotations-module__deleteForm__2e0sW",copyAction:"AtiExportAnnotations-module__copyAction__RVML0",copyButton:"AtiExportAnnotations-module__copyButton__2wFUx"},module.exports=exports},1243:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".Form-module__container__2o8fl {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.Form-module__title__CA7w3 {\n  margin-bottom: 0.5rem;\n}\n\n.Form-module__desc__1CDhd {\n  margin-bottom: 2.5rem;\n}\n\n/** indent the list */\n.Form-module__desc__1CDhd > ol {\n  margin-left: 2rem;\n}\n\n.Form-module__item__3HLP1 {\n  margin-bottom: 2rem;\n}\n\n.Form-module__submitBtn__1b8p7 {\n  margin-top: 1rem;\n}\n",""]),exports.locals={container:"Form-module__container__2o8fl",title:"Form-module__title__CA7w3",desc:"Form-module__desc__1CDhd",item:"Form-module__item__3HLP1",submitBtn:"Form-module__submitBtn__1b8p7"},module.exports=exports},1244:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".Layout-module__container__3ASA8 {\n  min-height: 100vh;\n  min-width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.Layout-module__main__2rbiX {\n  flex: 1 1;\n  width: 100%;\n  padding: 8px;\n}\n\n.Layout-module__maxWidth__3FOZB {\n  max-width: 1280px;\n}\n\n.Layout-module__fullMaxWidth__23OOl {\n  max-width: 100%;\n}\n\n@media (min-width: 42rem) {\n  .Layout-module__main__2rbiX {\n    padding: 24px;\n  }\n}\n",""]),exports.locals={container:"Layout-module__container__3ASA8",main:"Layout-module__main__2rbiX",maxWidth:"Layout-module__maxWidth__3FOZB",fullMaxWidth:"Layout-module__fullMaxWidth__23OOl"},module.exports=exports},1245:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(258)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"ATI/ATI Export annotations/Delete annotations modal"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={open:!0,manuscriptName:"Manuscript example"},Default.parameters=Object.assign({storySource:{source:"(args) => <DeleteAnnotationsModal {...args} />"}},Default.parameters)},1262:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".Datasource-module__datasource__deopT {\n  text-overflow: clip;\n  overflow: hidden;\n  white-space: nowrap;\n}\n",""]),exports.locals={datasource:"Datasource-module__datasource__deopT"},module.exports=exports},1263:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,'.DatasourceModal-module__datasources__2JYS_ {\n  padding-top: 24px;\n  row-gap: 24px;\n}\n\n.DatasourceModal-module__datasourceModal__1cItA {\n  background-color: transparent;\n  justify-content: flex-start;\n  width: 90vw;\n}\n\n.DatasourceModal-module__datasourceModal__1cItA > div[role="dialog"] {\n  position: static;\n  width: 100%;\n  height: 100%;\n  max-height: 100%;\n}\n\n.DatasourceModal-module__twoColumns__3H6-N {\n  display: grid;\n  grid-template-columns: 1fr auto;\n  justify-content: space-between;\n  align-items: center;\n  -moz-column-gap: 16px;\n       column-gap: 16px;\n}\n\n.DatasourceModal-module__inlineLoading__3o7rX {\n  margin-right: 0.25rem;\n}\n\n@media (min-width: 42rem) {\n  .DatasourceModal-module__datasourceModal__1cItA {\n    width: 320px;\n  }\n}\n',""]),exports.locals={datasources:"DatasourceModal-module__datasources__2JYS_",datasourceModal:"DatasourceModal-module__datasourceModal__1cItA",twoColumns:"DatasourceModal-module__twoColumns__3H6-N",inlineLoading:"DatasourceModal-module__inlineLoading__3o7rX"},module.exports=exports},1264:function(module,exports){},1265:function(module,exports){},1266:function(module,exports){},1267:function(module,exports){},1268:function(module,exports){},127:function(module,__webpack_exports__,__webpack_require__){"use strict";var _PUBLICATION_STATUSES;__webpack_require__.d(__webpack_exports__,"a",(function(){return PUBLICATION_STATUSES})),__webpack_require__.d(__webpack_exports__,"b",(function(){return PUBLICATION_STATUSES_COLOR})),__webpack_require__.d(__webpack_exports__,"c",(function(){return PUBLICATION_STATUS_NAME}));var PublicationStatus,VersionState;!function(PublicationStatus){PublicationStatus.Published="Published",PublicationStatus.Unpublished="Unpublished"}(PublicationStatus||(PublicationStatus={})),function(VersionState){VersionState.Draft="DRAFT",VersionState.Released="RELEASED"}(VersionState||(VersionState={}));var PUBLICATION_STATUSES=["Published","Unpublished","Draft","In Review","Deaccessioned"],PUBLICATION_STATUSES_COLOR=((_PUBLICATION_STATUSES={})[PUBLICATION_STATUSES[0]]="green",_PUBLICATION_STATUSES[PUBLICATION_STATUSES[1]]="red",_PUBLICATION_STATUSES[PUBLICATION_STATUSES[2]]="blue",_PUBLICATION_STATUSES[PUBLICATION_STATUSES[3]]="green",_PUBLICATION_STATUSES[PUBLICATION_STATUSES[4]]="gray",_PUBLICATION_STATUSES),PUBLICATION_STATUS_NAME="Publication Statuses"},130:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1244);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},1316:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AtiManuscript-module__iframe__2TH49 {\n  min-height: 100vh;\n}\n\n.AtiManuscript-module__buttonContainer__e5A2p {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 4px;\n  align-items: center;\n  background-color: whitesmoke;\n}\n\n.AtiManuscript-module__buttonContainer__e5A2p > button {\n  max-width: unset;\n}\n\n.AtiManuscript-module__tabContainer__2Ukvb {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 16px;\n}\n\n.AtiManuscript-module__centerUploadManuscript__1NQS5 {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n\n@media (min-width: 42rem) {\n  .AtiManuscript-module__centerUploadManuscript__1NQS5 {\n    padding-top: 15vh;\n  }\n\n  .AtiManuscript-module__buttonContainer__e5A2p {\n    grid-template-columns: auto auto;\n    justify-content: space-between;\n  }\n}\n",""]),exports.locals={iframe:"AtiManuscript-module__iframe__2TH49",buttonContainer:"AtiManuscript-module__buttonContainer__e5A2p",tabContainer:"AtiManuscript-module__tabContainer__2Ukvb",centerUploadManuscript:"AtiManuscript-module__centerUploadManuscript__1NQS5"},module.exports=exports},1317:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(268)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"ATI/ATI Manuscript/Datasource Modal"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={open:!0,datasources:[{id:"datasource-id",name:"Datasource",uri:"https://datasource-uri.com"},{id:"datasource-id-2",name:"Datasourcefffffff-fffffffffff_fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff.tab",uri:"https://datasource-uri.com"}],datasetDoi:"dataset-doi",serverUrl:"https://test.com"},Default.parameters=Object.assign({storySource:{source:"(args) => <DatasourceModal {...args} />"}},Default.parameters)},1318:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(260)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"ATI/ATI Manuscript/Delete Manuscript Modal"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={open:!0,manuscriptName:"Manuscript name"},Default.parameters=Object.assign({storySource:{source:"(args) => <DeleteManuscriptModal {...args} />"}},Default.parameters)},1319:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(261)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"ATI/ATI Manuscript/Ingest PDF"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={pdf:"JVBERi0xLjMNCiXi48/TDQoNCjEgMCBvYmoNCjw8DQovVHlwZSAvQ2F0YWxvZw0KL091dGxpbmVzIDIgMCBSDQovUGFnZXMgMyAwIFINCj4+DQplbmRvYmoNCg0KMiAwIG9iag0KPDwNCi9UeXBlIC9PdXRsaW5lcw0KL0NvdW50IDANCj4+DQplbmRvYmoNCg0KMyAwIG9iag0KPDwNCi9UeXBlIC9QYWdlcw0KL0NvdW50IDINCi9LaWRzIFsgNCAwIFIgNiAwIFIgXSANCj4+DQplbmRvYmoNCg0KNCAwIG9iag0KPDwNCi9UeXBlIC9QYWdlDQovUGFyZW50IDMgMCBSDQovUmVzb3VyY2VzIDw8DQovRm9udCA8PA0KL0YxIDkgMCBSIA0KPj4NCi9Qcm9jU2V0IDggMCBSDQo+Pg0KL01lZGlhQm94IFswIDAgNjEyLjAwMDAgNzkyLjAwMDBdDQovQ29udGVudHMgNSAwIFINCj4+DQplbmRvYmoNCg0KNSAwIG9iag0KPDwgL0xlbmd0aCAxMDc0ID4+DQpzdHJlYW0NCjIgSg0KQlQNCjAgMCAwIHJnDQovRjEgMDAyNyBUZg0KNTcuMzc1MCA3MjIuMjgwMCBUZA0KKCBBIFNpbXBsZSBQREYgRmlsZSApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY4OC42MDgwIFRkDQooIFRoaXMgaXMgYSBzbWFsbCBkZW1vbnN0cmF0aW9uIC5wZGYgZmlsZSAtICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjY0LjcwNDAgVGQNCigganVzdCBmb3IgdXNlIGluIHRoZSBWaXJ0dWFsIE1lY2hhbmljcyB0dXRvcmlhbHMuIE1vcmUgdGV4dC4gQW5kIG1vcmUgKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NTIuNzUyMCBUZA0KKCB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDYyOC44NDgwIFRkDQooIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjE2Ljg5NjAgVGQNCiggdGV4dC4gQW5kIG1vcmUgdGV4dC4gQm9yaW5nLCB6enp6ei4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjA0Ljk0NDAgVGQNCiggbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDU5Mi45OTIwIFRkDQooIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNTY5LjA4ODAgVGQNCiggQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA1NTcuMTM2MCBUZA0KKCB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBFdmVuIG1vcmUuIENvbnRpbnVlZCBvbiBwYWdlIDIgLi4uKSBUag0KRVQNCmVuZHN0cmVhbQ0KZW5kb2JqDQoNCjYgMCBvYmoNCjw8DQovVHlwZSAvUGFnZQ0KL1BhcmVudCAzIDAgUg0KL1Jlc291cmNlcyA8PA0KL0ZvbnQgPDwNCi9GMSA5IDAgUiANCj4+DQovUHJvY1NldCA4IDAgUg0KPj4NCi9NZWRpYUJveCBbMCAwIDYxMi4wMDAwIDc5Mi4wMDAwXQ0KL0NvbnRlbnRzIDcgMCBSDQo+Pg0KZW5kb2JqDQoNCjcgMCBvYmoNCjw8IC9MZW5ndGggNjc2ID4+DQpzdHJlYW0NCjIgSg0KQlQNCjAgMCAwIHJnDQovRjEgMDAyNyBUZg0KNTcuMzc1MCA3MjIuMjgwMCBUZA0KKCBTaW1wbGUgUERGIEZpbGUgMiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY4OC42MDgwIFRkDQooIC4uLmNvbnRpbnVlZCBmcm9tIHBhZ2UgMS4gWWV0IG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NzYuNjU2MCBUZA0KKCBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY2NC43MDQwIFRkDQooIHRleHQuIE9oLCBob3cgYm9yaW5nIHR5cGluZyB0aGlzIHN0dWZmLiBCdXQgbm90IGFzIGJvcmluZyBhcyB3YXRjaGluZyApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY1Mi43NTIwIFRkDQooIHBhaW50IGRyeS4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NDAuODAwMCBUZA0KKCBCb3JpbmcuICBNb3JlLCBhIGxpdHRsZSBtb3JlIHRleHQuIFRoZSBlbmQsIGFuZCBqdXN0IGFzIHdlbGwuICkgVGoNCkVUDQplbmRzdHJlYW0NCmVuZG9iag0KDQo4IDAgb2JqDQpbL1BERiAvVGV4dF0NCmVuZG9iag0KDQo5IDAgb2JqDQo8PA0KL1R5cGUgL0ZvbnQNCi9TdWJ0eXBlIC9UeXBlMQ0KL05hbWUgL0YxDQovQmFzZUZvbnQgL0hlbHZldGljYQ0KL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcNCj4+DQplbmRvYmoNCg0KMTAgMCBvYmoNCjw8DQovQ3JlYXRvciAoUmF2ZSBcKGh0dHA6Ly93d3cubmV2cm9uYS5jb20vcmF2ZVwpKQ0KL1Byb2R1Y2VyIChOZXZyb25hIERlc2lnbnMpDQovQ3JlYXRpb25EYXRlIChEOjIwMDYwMzAxMDcyODI2KQ0KPj4NCmVuZG9iag0KDQp4cmVmDQowIDExDQowMDAwMDAwMDAwIDY1NTM1IGYNCjAwMDAwMDAwMTkgMDAwMDAgbg0KMDAwMDAwMDA5MyAwMDAwMCBuDQowMDAwMDAwMTQ3IDAwMDAwIG4NCjAwMDAwMDAyMjIgMDAwMDAgbg0KMDAwMDAwMDM5MCAwMDAwMCBuDQowMDAwMDAxNTIyIDAwMDAwIG4NCjAwMDAwMDE2OTAgMDAwMDAgbg0KMDAwMDAwMjQyMyAwMDAwMCBuDQowMDAwMDAyNDU2IDAwMDAwIG4NCjAwMDAwMDI1NzQgMDAwMDAgbg0KDQp0cmFpbGVyDQo8PA0KL1NpemUgMTENCi9Sb290IDEgMCBSDQovSW5mbyAxMCAwIFINCj4+DQoNCnN0YXJ0eHJlZg0KMjcxNA0KJSVFT0YNCg=="},Default.parameters=Object.assign({storySource:{source:"(args) => <IngestPdf {...args} />"}},Default.parameters)},1320:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(262)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"ATI/ATI Manuscript/Upload Manuscript Modal"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={open:!0,manuscriptName:"Manuscript name",uploadAnnotations:!0},Default.parameters=Object.assign({storySource:{source:"(args) => <UploadManuscriptModal {...args} />"}},Default.parameters)},1321:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(264)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"ATI/ATI Project"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={id:"ati-project-id-1",name:"ATI Project Title",description:"Test desc",dataverseName:"Dataverse name",citationHtml:"Citation HTML",publicationStatuses:["Draft"],dateDisplay:"Date display",userRoles:["User role"],dataverse:"main",dataverseServerUrl:"Server URL"},Default.parameters=Object.assign({storySource:{source:"(args) => <AtiProject {...args} />"}},Default.parameters)},1324:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AtiProject-module__atiProject__3xruL {\n  padding-bottom: 24px;\n  padding-top: 24px;\n  border-bottom: 1px solid #dfdfe7;\n  display: grid;\n  grid-template-columns: auto;\n  row-gap: 4px;\n}\n\n.AtiProject-module__atiProject__3xruL h2 {\n  display: flex;\n  align-items: center;\n}\n\n.AtiProject-module__atiProject__3xruL h2 > a {\n  font-size: 1.25rem;\n  font-weight: 600;\n}\n\n.AtiProject-module__titleContainer__1jW03 {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 4px;\n  -moz-column-gap: 8px;\n       column-gap: 8px;\n}\n\n.AtiProject-module__atiProject__3xruL p {\n  font-size: 0.875rem;\n}\n\n.AtiProject-module__citation__2KEf7 {\n  padding: 4px;\n  background-color: #dfdfe7;\n}\n\n.AtiProject-module__tags__aTQiy {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n\n@media (min-width: 42rem) {\n  .AtiProject-module__titleContainer__1jW03 {\n    grid-template-columns: auto auto;\n    justify-content: start;\n    align-items: center;\n  }\n}\n",""]),exports.locals={atiProject:"AtiProject-module__atiProject__3xruL",titleContainer:"AtiProject-module__titleContainer__1jW03",citation:"AtiProject-module__citation__2KEf7",tags:"AtiProject-module__tags__aTQiy"},module.exports=exports},1325:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AtiProjects-module__resultContainer__2WmrF {\n  display: grid;\n  grid-template-columns: 1fr;\n}\n\n.AtiProjects-module__atiContainer__vC0vG {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 24px;\n}\n\n@media (min-width: 42rem) {\n  .AtiProjects-module__resultContainer__2WmrF {\n    grid-template-columns: 0.25fr 1fr;\n    align-items: start;\n  }\n}\n",""]),exports.locals={resultContainer:"AtiProjects-module__resultContainer__2WmrF",atiContainer:"AtiProjects-module__atiContainer__vC0vG"},module.exports=exports},1326:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AtiSettings-module__dangerZone__27r8f {\n  padding: 24px;\n  border: 1px solid red;\n  border-radius: 10px;\n}\n\n.AtiSettings-module__title__3xxxs {\n  font-size: 1.25rem;\n}\n\n.AtiSettings-module__desc__1FJlh {\n  margin-bottom: 16px;\n}\n",""]),exports.locals={dangerZone:"AtiSettings-module__dangerZone__27r8f",title:"AtiSettings-module__title__3xxxs",desc:"AtiSettings-module__desc__1FJlh"},module.exports=exports},1327:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(265)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"ATI/ATI Settings/Delete ATI Modal"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={open:!0,atiName:"ATI Project"},Default.parameters=Object.assign({storySource:{source:"(args) => <DeleteAtiModal {...args} />"}},Default.parameters)},1328:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AtiSummary-module__sectionContainer__Dxqb- {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 24px;\n}\n\n.AtiSummary-module__about__6iKoM {\n  display: grid;\n  grid-template-columns: auto;\n  row-gap: 8px;\n}\n\n.AtiSummary-module__aboutContainer__2I84q {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 8px;\n}\n\n.AtiSummary-module__buttonSet__310qQ {\n  display: grid;\n  grid-template-columns: 0.5fr 0.5fr;\n  justify-content: start;\n  align-items: stretch;\n  gap: 1px;\n}\n\n.AtiSummary-module__buttonSet__310qQ > * {\n  padding: 0px 8px;\n  max-width: unset;\n  display: flex;\n  justify-content: center;\n}\n\n.AtiSummary-module__descriptionList__3k3cr {\n  display: grid;\n  row-gap: 8px;\n}\n\n.AtiSummary-module__descriptionList__3k3cr dt {\n  font-weight: 600;\n}\n\n.AtiSummary-module__descriptionList__3k3cr dd {\n  margin-left: 16px;\n}\n\n@media (min-width: 42rem) {\n  .AtiSummary-module__aboutContainer__2I84q {\n    grid-template-columns: 0.75fr 0.2fr;\n    justify-content: start;\n    align-items: start;\n    -moz-column-gap: 64px;\n         column-gap: 64px;\n  }\n  .AtiSummary-module__buttonSet__310qQ {\n    order: 1;\n    grid-template-columns: 1fr;\n  }\n}\n",""]),exports.locals={sectionContainer:"AtiSummary-module__sectionContainer__Dxqb-",about:"AtiSummary-module__about__6iKoM",aboutContainer:"AtiSummary-module__aboutContainer__2I84q",buttonSet:"AtiSummary-module__buttonSet__310qQ",descriptionList:"AtiSummary-module__descriptionList__3k3cr"},module.exports=exports},1348:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AppBar-module__container__2bxuS {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  border-bottom: 1px solid #dbdbdb;\n}\n\n.AppBar-module__header__2_fLu {\n  width: 100%;\n  max-width: 1280px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.AppBar-module__logo__2P548 {\n  font-size: 1.5rem;\n  color: #161616;\n}\n\n.AppBar-module__logo__2P548:hover {\n  color: #161616;\n}\n\n.AppBar-module__actions__3juq1 {\n  display: flex;\n  justify-content: flex-start;\n}\n\n.AppBar-module__actionButton__12yH_ > svg {\n  color: #161616;\n}\n\n.AppBar-module__user__SRVx8 > svg {\n  width: 1.5rem !important;\n  height: 1.5rem !important;\n}\n\n.AppBar-module__menuOptions__3PKZ1 {\n  width: 15rem;\n}\n\n.AppBar-module__menuOptions__3PKZ1 > li > a,\n.AppBar-module__menuOptions__3PKZ1 > li > button {\n  width: 100%;\n  max-width: 15rem;\n}\n",""]),exports.locals={container:"AppBar-module__container__2bxuS",header:"AppBar-module__header__2_fLu",logo:"AppBar-module__logo__2P548",actions:"AppBar-module__actions__3juq1",actionButton:"AppBar-module__actionButton__12yH_",user:"AppBar-module__user__SRVx8",menuOptions:"AppBar-module__menuOptions__3PKZ1"},module.exports=exports},1349:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AtiTab-module__tabs__22i-k {\n  margin-bottom: 16px;\n}\n",""]),exports.locals={tabs:"AtiTab-module__tabs__22i-k"},module.exports=exports},1350:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,'.NewAtiProjectForm-module__searchBox__1QOiP {\n  display: grid;\n  grid-template-columns: 1fr auto;\n  align-items: center;\n  -moz-column-gap: 1rem;\n       column-gap: 1rem;\n}\n\n/*Separate the title and loader*/\n.NewAtiProjectForm-module__searchTitle__wpvuc {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-end;\n}\n\n/*Expand the label width*/\n.NewAtiProjectForm-module__searchBox__1QOiP label[for="dataset-search"] {\n  width: 100%;\n}\n\n/*Unset the loader min height*/\n.NewAtiProjectForm-module__searchLoader__XmUqG {\n  min-height: unset;\n}\n',""]),exports.locals={searchBox:"NewAtiProjectForm-module__searchBox__1QOiP",searchTitle:"NewAtiProjectForm-module__searchTitle__wpvuc",searchLoader:"NewAtiProjectForm-module__searchLoader__XmUqG"},module.exports=exports},1351:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(263)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"Auth/Hypothesis Login Notification"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <HypothesisLoginNotification {...args} />"}},Default.parameters)},1352:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(266)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"Component/App Bar"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.args={user:{dataverse:{name:"Test @ QDR",link:"test.com"},hypothesis:{name:"Test @ Hypothes.is",link:"test.com"}}},Default.parameters=Object.assign({storySource:{source:"(args) => <AppBar {...args} />"}},Default.parameters)},1353:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),___WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(267)),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.default={component:___WEBPACK_IMPORTED_MODULE_3__.a,title:"Component/App Desc"};var Template=function Template(args){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(___WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({},args))};Template.displayName="Template";var Default=Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <AppDesc {...args} />"}},Default.parameters)},1354:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".AppDesc-module__container__2hqak {\n  padding: 16px;\n}\n\n.AppDesc-module__leadspaceText__2uCHJ {\n  font-size: 1.5rem;\n  font-weight: 400;\n  letter-spacing: 0;\n  line-height: 1.25;\n  margin-bottom: 4rem;\n  margin-top: 3rem;\n}\n\n@media (min-width: 42rem) {\n  .AppDesc-module__leadspaceText__2uCHJ {\n    font-size: 2.25rem;\n    font-weight: 300;\n  }\n}\n\n@media (min-width: 66rem) {\n  .AppDesc-module__leadspaceText__2uCHJ {\n    font-size: 2.625rem;\n  }\n}\n\n@media (min-width: 82rem) {\n  .AppDesc-module__leadspaceText__2uCHJ {\n    font-size: 3rem;\n  }\n}\n\n@media (min-width: 99rem) {\n  .AppDesc-module__leadspaceText__2uCHJ {\n    font-size: 3.75rem;\n  }\n}\n\n.AppDesc-module__buttonContainer__128NB {\n  display: grid;\n  gap: 16px;\n  grid-template-columns: 1fr;\n  justify-content: start;\n}\n\n.AppDesc-module__buttonContainer__128NB > a {\n  max-width: unset;\n}\n\n@media (min-width: 42rem) {\n  .AppDesc-module__buttonContainer__128NB {\n    grid-template-columns: auto auto;\n  }\n}\n",""]),exports.locals={container:"AppDesc-module__container__2hqak",leadspaceText:"AppDesc-module__leadspaceText__2uCHJ",buttonContainer:"AppDesc-module__buttonContainer__128NB"},module.exports=exports},1355:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,'.AppGuide-module__container__3D0E7 {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 32px;\n}\n\n.AppGuide-module__heading__M5Qdq {\n  padding: 16px;\n  font-size: 1.5rem;\n  font-weight: 400;\n  border-bottom: 1px solid #dbdbdb;\n}\n\n.AppGuide-module__guide__1iCWc {\n  display: grid;\n  grid-template-columns: 1fr;\n  justify-content: space-between;\n}\n\n.AppGuide-module__guide__1iCWc > div:first-of-type {\n  margin-top: 0;\n}\n\n.AppGuide-module__guide__1iCWc > div {\n  margin-top: 64px;\n  padding: 16px;\n}\n\n.AppGuide-module__guide__1iCWc h2 {\n  font-size: 1.25rem;\n  font-weight: 300;\n  margin-bottom: 8px;\n}\n\n.AppGuide-module__guide__1iCWc img {\n  width: 100%;\n}\n\n.AppGuide-module__guide__1iCWc > div > a {\n  margin-top: 24px;\n}\n\n.AppGuide-module__logos__36tXl {\n  display: grid;\n  grid-template-columns: 1fr;\n}\n\n.AppGuide-module__copyAnnotations__1Vyyd {\n  position: relative;\n}\n\n.AppGuide-module__copyAnnotations__1Vyyd::before {\n  position: absolute;\n  left: 40%;\n  top: -45px;\n  content: "or";\n  font-size: 1.75rem;\n  font-weight: 300;\n}\n\n@media (min-width: 42rem) {\n  .AppGuide-module__heading__M5Qdq {\n    font-size: 2.5rem;\n  }\n\n  .AppGuide-module__guide__1iCWc {\n    grid-template-columns: 1fr 1fr;\n    -moz-column-gap: 64px;\n         column-gap: 64px;\n  }\n\n  .AppGuide-module__guide__1iCWc h2 {\n    font-size: 2rem;\n  }\n\n  .AppGuide-module__guide__1iCWc > div:nth-of-type(2) {\n    margin-top: 0;\n  }\n\n  .AppGuide-module__copyAnnotations__1Vyyd {\n    grid-column-end: -1;\n  }\n\n  .AppGuide-module__copyAnnotations__1Vyyd::before {\n    top: -64px;\n  }\n}\n\n@media (min-width: 52rem) {\n  .AppGuide-module__copyAnnotations__1Vyyd::before {\n    top: -75px;\n  }\n}\n\n@media (min-width: 66rem) {\n  .AppGuide-module__guide__1iCWc {\n    -moz-column-gap: 128px;\n         column-gap: 128px;\n  }\n  .AppGuide-module__guide__1iCWc img {\n    width: 80%;\n  }\n\n  .AppGuide-module__copyAnnotations__1Vyyd::before {\n    top: -105px;\n  }\n}\n',""]),exports.locals={container:"AppGuide-module__container__3D0E7",heading:"AppGuide-module__heading__M5Qdq",guide:"AppGuide-module__guide__1iCWc",logos:"AppGuide-module__logos__36tXl",copyAnnotations:"AppGuide-module__copyAnnotations__1Vyyd"},module.exports=exports},1356:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".HomePageTitle-module__titleContainer__30FAu {\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 24px;\n}\n\n.HomePageTitle-module__titleContainer__30FAu > a {\n  max-width: unset;\n}\n\n@media (min-width: 42rem) {\n  .HomePageTitle-module__titleContainer__30FAu {\n    grid-template-columns: 1fr auto;\n    align-items: center;\n  }\n}\n",""]),exports.locals={titleContainer:"HomePageTitle-module__titleContainer__30FAu"},module.exports=exports},1357:function(module,exports,__webpack_require__){(exports=__webpack_require__(78)(!1)).push([module.i,".ErrorContainer-module__container__1nNJX {\n  display: grid;\n  grid-template-columns: auto;\n  row-gap: 16px;\n}\n\n.ErrorContainer-module__title__sa9Dv {\n  padding: 16px 0;\n  border-bottom: 1px solid #c7c7c7;\n}\n\n.ErrorContainer-module__button__6Euqi {\n  padding-right: 15px;\n}\n",""]),exports.locals={container:"ErrorContainer-module__container__1nNJX",title:"ErrorContainer-module__title__sa9Dv",button:"ErrorContainer-module__button__6Euqi"},module.exports=exports},1362:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var SearchActionType,react=__webpack_require__(0),react_default=__webpack_require__.n(react),slicedToArray=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(65)),Form=(__webpack_require__(86),__webpack_require__(191),__webpack_require__(26),__webpack_require__(60),__webpack_require__(99),__webpack_require__(42),__webpack_require__(9),__webpack_require__(8),__webpack_require__(15),__webpack_require__(1400)),Search=__webpack_require__(1420),FormGroup=__webpack_require__(1407),Checkbox=__webpack_require__(1408),InlineLoading=__webpack_require__(1404),PaginationNav=__webpack_require__(1409),AtiProject=__webpack_require__(264),regenerator=__webpack_require__(11),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),lib=(__webpack_require__(54),__webpack_require__(13),__webpack_require__(108)),lib_default=__webpack_require__.n(lib),app=__webpack_require__(52);__webpack_require__(32);function searchReducer(state,action){switch(action.type){case SearchActionType.SEARCH_INIT:return Object.assign({},state,{status:"active",error:""});case SearchActionType.SEARCH_FAILURE:return Object.assign({},state,{status:"error",error:action.payload});case SearchActionType.UPDATE_PAGE:var cursor=action.payload*state.perPage,fetchPage=state.currentTotal<state.totalCount&&!(cursor in state.atiProjects);return Object.assign({},state,{page:action.payload,fetchPage:fetchPage});case SearchActionType.SEARCH_PAGE:var atiData=action.payload.datasets,newAtis=atiData.reduce((function(acc,curr,i){return acc[i+action.payload.start]=curr,acc}),{});return Object.assign({},state,{atiProjects:Object.assign({},state.atiProjects,newAtis),currentTotal:state.currentTotal+atiData.length,status:"finished",fetchPage:!1});case SearchActionType.UPDATE_Q:return Object.assign({},state,{q:action.payload,fetchQ:!0});case SearchActionType.SEARCH_Q:var _atiData=action.payload.datasets,_newAtis=_atiData.reduce((function(acc,curr,i){return acc[i]=curr,acc}),{});return Object.assign({},state,{totalCount:action.payload.totalCount,currentTotal:_atiData.length,atiProjects:_newAtis,status:"finished",page:0,selectedPublicationStatuses:action.payload.selectedFilters&&action.payload.selectedFilters.publication_statuses?action.payload.selectedFilters.publication_statuses.reduce((function(acc,curr){return acc[curr]=!0,acc}),Object.assign({},state.selectedPublicationStatuses)):{},selectedFilters:action.payload.selectedFilters,publicationStatusCount:action.payload.publicationStatusCount,perPage:action.payload.docsPerPage,fetchQ:!1,fetchPublicationStatus:!1});case SearchActionType.UPDATE_SELECTED_PUBLICATION_STATUS:var _Object$assign;return Object.assign({},state,{fetchPublicationStatus:!0,selectedPublicationStatuses:Object.assign({},state.selectedPublicationStatuses,(_Object$assign={},_Object$assign[action.payload.id]=action.payload.checked,_Object$assign))});case SearchActionType.NO_RESULTS:var newPublicationStatusCount=Object.keys(state.publicationStatusCount).reduce((function(acc,curr){return acc[curr]=0,acc}),{});return Object.assign({},state,{atiProjects:{},totalCount:0,currentTotal:0,publicationStatusCount:newPublicationStatusCount,fetchPage:!1,fetchQ:!1,fetchPublicationStatus:!1});default:return state}}!function(SearchActionType){SearchActionType.SEARCH_INIT="SEARCH_INIT",SearchActionType.SEARCH_FAILURE="SEARCH_FAILURE",SearchActionType.UPDATE_PAGE="UPDATE_PAGE",SearchActionType.SEARCH_PAGE="SEARCH_PAGE",SearchActionType.UPDATE_Q="UPDATE_Q",SearchActionType.SEARCH_Q="SEARCH_Q",SearchActionType.UPDATE_SELECTED_PUBLICATION_STATUS="UPDATE_SELECTED_PUBLICATION_STATUS",SearchActionType.NO_RESULTS="NO_RESULTS"}(SearchActionType||(SearchActionType={}));__webpack_require__(67);var getLabelTextForPublicationStatus=function getLabelTextForPublicationStatus(status,counts){var key=status.toLowerCase().split(" ").join("_")+"_count";return status+" ("+counts[key]+")"},getTrueFields=function getTrueFields(fields){return Object.keys(fields).filter((function(field){return fields[field]}))},constants_dataverse=__webpack_require__(127),httpRequestUtils=__webpack_require__(82),AtiProjects_useSearch=function useSearch(inititalState){var _useReducer=Object(react.useReducer)(searchReducer,inititalState),state=_useReducer[0],dispatch=_useReducer[1];return Object(react.useEffect)((function(){var didCancel=!1,search=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var publicationStatuses,_yield$axiosClient$ge,data,actionType,message;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,dispatch({type:SearchActionType.SEARCH_INIT}),publicationStatuses=state.fetchQ?constants_dataverse.a:getTrueFields(state.selectedPublicationStatuses),_context.next=5,app.a.get("/api/mydata-search",{params:{publicationStatuses:publicationStatuses,q:state.q,selectedPage:state.fetchPage?state.page+1:1,isAnnoRep:!0},paramsSerializer:function paramsSerializer(params){return lib_default.a.stringify(params,{indices:!1})}});case 5:_yield$axiosClient$ge=_context.sent,data=_yield$axiosClient$ge.data,didCancel||(actionType=state.fetchPage?SearchActionType.SEARCH_PAGE:SearchActionType.SEARCH_Q,dispatch({type:actionType,payload:data})),_context.next=13;break;case 10:_context.prev=10,_context.t0=_context.catch(0),didCancel||(message=Object(httpRequestUtils.a)(_context.t0),dispatch({type:SearchActionType.SEARCH_FAILURE,payload:message}),dispatch({type:SearchActionType.NO_RESULTS}));case 13:case"end":return _context.stop()}}),_callee,null,[[0,10]])})));return function search(){return _ref.apply(this,arguments)}}();return(state.fetchPage||state.fetchQ||state.fetchPublicationStatus)&&search(),function(){didCancel=!0}}),[state.q,state.fetchQ,state.page,state.fetchPage,state.selectedPublicationStatuses,state.fetchPublicationStatus]),[state,dispatch]},arrayUtils=(__webpack_require__(80),__webpack_require__(187)),getTotalPages=function getTotalPages(state){return Math.ceil(state.totalCount/state.perPage)},AtiProjects_module=__webpack_require__(443),AtiProjects_module_default=__webpack_require__.n(AtiProjects_module),jsx_runtime=__webpack_require__(3),AtiProjects_AtiProjects=(react_default.a.createElement,function AtiProjects(_ref){var atiProjects=_ref.atiProjects,initialTotalCount=_ref.initialTotalCount,atisPerPage=_ref.atisPerPage,publicationStatusCount=_ref.publicationStatusCount,selectedFilters=_ref.selectedFilters,_useSearch=AtiProjects_useSearch({currentTotal:atiProjects.length,totalCount:initialTotalCount,atiProjects:atiProjects.reduce((function(acc,curr,i){return acc[i]=curr,acc}),{}),status:"inactive",page:0,fetchPage:!1,perPage:atisPerPage,q:"",fetchQ:!1,error:"",selectedPublicationStatuses:selectedFilters.publication_statuses.reduce((function(acc,curr){return acc[curr]=!0,acc}),{}),selectedFilters:selectedFilters,publicationStatusCount:publicationStatusCount,fetchPublicationStatus:!1}),_useSearch2=Object(slicedToArray.a)(_useSearch,2),state=_useSearch2[0],dispatch=_useSearch2[1],onFacetFieldChange=function onFacetFieldChange(checked,id){return dispatch({type:SearchActionType.UPDATE_SELECTED_PUBLICATION_STATUS,payload:{id:id,checked:checked}})},totalPages=getTotalPages(state),loadingDesc=function getLoadingDesc(state){return["inactive","finished"].includes(state.status)?state.totalCount<=state.perPage?state.totalCount+" project(s)":state.page*state.perPage+1+" to "+Math.min(state.totalCount,state.page*state.perPage+state.perPage)+" of "+state.totalCount+" project(s)":"active"===state.status?"Searching...":state.error}(state),loadingIconDesc=function getLoadingIconDesc(state){return"inactive"==state.status?"Inactive!":"finished"===state.status?"Success!":"active"===state.status?"Searching...":"Error!"}(state),atis=function getAtis(state){return"active"===state.status?[]:Object(arrayUtils.a)(state.page*state.perPage,Math.min(state.totalCount,state.page*state.perPage+state.perPage)-1,1).map((function(index){return state.atiProjects[index]})).filter((function(ati){return ati}))}(state),showPagination=function getShowPagination(state){return["inactive","finished"].includes(state.status)&&getTotalPages(state)>1}(state);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Form.a,{onSubmit:function onSearch(e){e.preventDefault();var target=e.target;dispatch({type:SearchActionType.UPDATE_Q,payload:target.atiSearch.value.trim()})},children:Object(jsx_runtime.jsx)(Search.a,{id:"ati-search",name:"atiSearch",labelText:"Search",placeholder:"Search",closeButtonLabelText:"Clear search input",size:"lg"})}),Object(jsx_runtime.jsxs)("div",{className:AtiProjects_module_default.a.resultContainer,children:[Object(jsx_runtime.jsx)(Form.a,{children:Object(jsx_runtime.jsx)(FormGroup.a,{legendText:constants_dataverse.c,children:selectedFilters[constants_dataverse.c.toLowerCase().split(" ").join("_")].map((function(status){return Object(jsx_runtime.jsx)(Checkbox.a,{id:status,name:status,checked:state.selectedPublicationStatuses[status],labelText:getLabelTextForPublicationStatus(status,state.publicationStatusCount),onChange:onFacetFieldChange},status)}))})}),Object(jsx_runtime.jsxs)("div",{className:AtiProjects_module_default.a.atiContainer,children:[Object(jsx_runtime.jsx)(InlineLoading.a,{id:"ati-search-results-status",status:state.status,description:loadingDesc,iconDescription:loadingIconDesc}),atis.map((function(_ref2){var id=_ref2.id,name=_ref2.name,description=_ref2.description,dateDisplay=_ref2.dateDisplay,dataverseName=_ref2.dataverseName,citationHtml=_ref2.citationHtml,publicationStatuses=_ref2.publicationStatuses,userRoles=_ref2.userRoles,dataverseServerUrl=_ref2.dataverseServerUrl,dataverse=_ref2.dataverse;return Object(jsx_runtime.jsx)(AtiProject.a,{id:id,name:name,description:description,dateDisplay:dateDisplay,dataverseName:dataverseName,citationHtml:citationHtml,publicationStatuses:publicationStatuses,userRoles:userRoles,dataverseServerUrl:dataverseServerUrl,dataverse:dataverse},id)})),showPagination&&Object(jsx_runtime.jsx)(PaginationNav.a,{loop:!1,page:state.page,totalItems:totalPages,onChange:function onCurrentPageChange(page){return dispatch({type:SearchActionType.UPDATE_PAGE,payload:page})}})]})]})]})}),ati_AtiProjects=AtiProjects_AtiProjects;try{AtiProjects_AtiProjects.displayName="AtiProjects",AtiProjects_AtiProjects.__docgenInfo={description:"A user's ati projects with a search bar",displayName:"AtiProjects",props:{atiProjects:{defaultValue:null,description:"The list of ati projects",name:"atiProjects",required:!0,type:{name:"IAtiProject[]"}},initialTotalCount:{defaultValue:null,description:"The initial number of total ati projects found",name:"initialTotalCount",required:!0,type:{name:"number"}},atisPerPage:{defaultValue:null,description:"The number of the ati project to show per page",name:"atisPerPage",required:!0,type:{name:"number"}},publicationStatusCount:{defaultValue:null,description:"Publication status count of the list of ati projects",name:"publicationStatusCount",required:!0,type:{name:"Record<string, number>"}},selectedFilters:{defaultValue:null,description:"Facets to filter the ati projects",name:"selectedFilters",required:!0,type:{name:"Record<string, string[]>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiProjects/index.tsx#AtiProjects"]={docgenInfo:AtiProjects_AtiProjects.__docgenInfo,name:"AtiProjects",path:"features/ati/AtiProjects/index.tsx#AtiProjects"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:ati_AtiProjects,decorators:[function(Story){return Object(jsx_runtime.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",rowGap:"24px"},children:Object(jsx_runtime.jsx)(Story,{})})}],title:"ATI/ATI Projects"};var AtiProjects_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ati_AtiProjects,Object.assign({},args))};AtiProjects_stories_Template.displayName="Template";var Default=AtiProjects_stories_Template.bind({});Default.args={atiProjects:[{id:"ati-project-id-1",name:"ATI Project Title",description:"Test desc",dataverseName:"Dataverse name",citationHtml:"Citation HTML",publicationStatuses:["Draft","Unpublished"],dateDisplay:"Date display",userRoles:["User role"],dataverse:"main",dataverseServerUrl:"Server URL"}],initialTotalCount:1,atisPerPage:10,publicationStatusCount:{unpublished_count:1,draft_count:1,published_count:0,in_review_count:0,deaccessioned_count:0},selectedFilters:{publication_statuses:["Draft","Unpublished"]}},Default.parameters=Object.assign({storySource:{source:"(args) => <AtiProjects {...args} />"}},Default.parameters)},1363:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"WithDatasets",(function(){return WithDatasets})),__webpack_require__.d(__webpack_exports__,"WithoutDatasets",(function(){return WithoutDatasets})),__webpack_require__.d(__webpack_exports__,"WithShowMoreDatasets",(function(){return WithShowMoreDatasets}));var SearchDatasetActionType,react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(11)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),slicedToArray=__webpack_require__(65),browser=(__webpack_require__(191),__webpack_require__(54),__webpack_require__(13),__webpack_require__(156),__webpack_require__(80),__webpack_require__(95),__webpack_require__(9),__webpack_require__(19),__webpack_require__(16),__webpack_require__(23),__webpack_require__(26),__webpack_require__(325)),browser_default=__webpack_require__.n(browser),bucket_18=__webpack_require__(1384),bucket_0=__webpack_require__(1414),Form=__webpack_require__(1400),OrderedList=__webpack_require__(1413),ListItem=__webpack_require__(1411),Notification=__webpack_require__(445),ComboBox=__webpack_require__(1415),InlineLoading=__webpack_require__(1404),Button=__webpack_require__(221),FileUploader=__webpack_require__(1417),lodash=__webpack_require__(701),next_router=__webpack_require__(165),app=__webpack_require__(52),arcore=__webpack_require__(85),ati=__webpack_require__(50),getItems=function getItems(state){return state.datasets.map((function(dataset){return{id:dataset.id,label:dataset.name}}))},getResultDesc=function getResultDesc(state){return["inactive","finished"].includes(state.status)?state.currentTotal<state.totalCount?state.currentTotal+" of "+state.totalCount+" data project(s)":state.totalCount+" data project(s)":"active"===state.status?"Searching...":""},getErrorMsg=function getErrorMsg(state){return state.error+" Please create a new data project."},hasMoreDatasets=function hasMoreDatasets(state){return state.currentTotal<state.totalCount},toConsumableArray=__webpack_require__(152);__webpack_require__(33);function searchDatasetReducer(state,action){switch(action.type){case SearchDatasetActionType.SEARCH_INIT:return Object.assign({},state,{status:"active",error:""});case SearchDatasetActionType.SEARCH_FAILURE:return Object.assign({},state,{status:"error",error:action.payload});case SearchDatasetActionType.UPDATE_PAGE:return Object.assign({},state,{page:state.page+1,fetchPage:state.currentTotal<state.totalCount});case SearchDatasetActionType.SEARCH_PAGE:var newDatasets=action.payload.datasets.map((function(_ref){return{id:_ref.id,name:_ref.name}}));return Object.assign({},state,{status:"finished",fetchPage:!1,currentTotal:state.currentTotal+newDatasets.length,datasets:[].concat(Object(toConsumableArray.a)(state.datasets),Object(toConsumableArray.a)(newDatasets))});case SearchDatasetActionType.UPDATE_Q:return Object.assign({},state,{q:action.payload,fetchQ:!0});case SearchDatasetActionType.SEARCH_Q:var _newDatasets=action.payload.datasets.map((function(_ref2){return{id:_ref2.id,name:_ref2.name}}));return Object.assign({},state,{status:"finished",fetchQ:!1,totalCount:action.payload.totalCount,currentTotal:_newDatasets.length,datasets:_newDatasets,page:0,perPage:action.payload.docsPerPage});case SearchDatasetActionType.NO_RESULTS:return Object.assign({},state,{totalCount:0,currentTotal:0,datasets:[],fetchQ:!1});default:return state}}!function(SearchDatasetActionType){SearchDatasetActionType.SEARCH_INIT="SEARCH_INIT",SearchDatasetActionType.SEARCH_FAILURE="SEARCH_FAILURE",SearchDatasetActionType.UPDATE_PAGE="UPDATE_PAGE",SearchDatasetActionType.SEARCH_PAGE="SEARCH_PAGE",SearchDatasetActionType.UPDATE_Q="UPDATE_Q",SearchDatasetActionType.SEARCH_Q="SEARCH_Q",SearchDatasetActionType.NO_RESULTS="NO_RESULTS"}(SearchDatasetActionType||(SearchDatasetActionType={}));var lib=__webpack_require__(108),lib_default=__webpack_require__.n(lib),httpRequestUtils=__webpack_require__(82),dataverse=__webpack_require__(127),useDatasetSearch=function useSearchDataset(inititalState){var _useReducer=Object(react.useReducer)(searchDatasetReducer,inititalState),state=_useReducer[0],dispatch=_useReducer[1];return Object(react.useEffect)((function(){var didCancel=!1,search=function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var _yield$axiosClient$ge,data,actionType,message;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,dispatch({type:SearchDatasetActionType.SEARCH_INIT}),_context.next=4,app.a.get("/api/mydata-search",{params:{q:state.q,selectedPage:state.fetchPage?state.page+1:1,isAnnoRep:!1,publicationStatuses:dataverse.a},paramsSerializer:function paramsSerializer(params){return lib_default.a.stringify(params,{indices:!1})}});case 4:_yield$axiosClient$ge=_context.sent,data=_yield$axiosClient$ge.data,didCancel||(actionType=state.fetchPage?SearchDatasetActionType.SEARCH_PAGE:SearchDatasetActionType.SEARCH_Q,dispatch({type:actionType,payload:data})),_context.next=12;break;case 9:_context.prev=9,_context.t0=_context.catch(0),didCancel||(message=Object(httpRequestUtils.a)(_context.t0),dispatch({type:SearchDatasetActionType.SEARCH_FAILURE,payload:message}),state.fetchQ&&dispatch({type:SearchDatasetActionType.NO_RESULTS}));case 12:case"end":return _context.stop()}}),_callee,null,[[0,9]])})));return function search(){return _ref.apply(this,arguments)}}();return(state.fetchPage||state.fetchQ)&&search(),function(){didCancel=!0}}),[state.q,state.fetchQ,state.page,state.fetchPage]),[state,dispatch]},useTask=__webpack_require__(21),apiUtils=__webpack_require__(327),fileUtils=__webpack_require__(328),NewAtiProjectForm_module=__webpack_require__(338),NewAtiProjectForm_module_default=__webpack_require__.n(NewAtiProjectForm_module),Form_module=__webpack_require__(41),Form_module_default=__webpack_require__.n(Form_module),jsx_runtime=__webpack_require__(3),NewAtiProjectForm_NewAtiProjectForm=(react_default.a.createElement,function NewAtiProjectForm(_ref){var datasets=_ref.datasets,serverUrl=_ref.serverUrl,initialTotalCount=_ref.initialTotalCount,datasetsPerPage=_ref.datasetsPerPage,router=Object(next_router.useRouter)(),_useSearchDataset=useDatasetSearch({currentTotal:datasets.length,totalCount:initialTotalCount,datasets:datasets,status:"inactive",page:0,fetchPage:!1,perPage:datasetsPerPage||0,q:"",fetchQ:!1,error:""}),_useSearchDataset2=Object(slicedToArray.a)(_useSearchDataset,2),state=_useSearchDataset2[0],dispatch=_useSearchDataset2[1],debounceSearch=Object(react.useMemo)((function(){return Object(lodash.debounce)((function(inputValue){return dispatch({type:SearchDatasetActionType.UPDATE_Q,payload:inputValue})}),200)}),[dispatch]);Object(react.useEffect)((function(){return debounceSearch.cancel()}),[debounceSearch]);var memoizedHandleSearch=Object(react.useCallback)((function handleSearch(e){var target=e.target;debounceSearch(target.value.trim())}),[debounceSearch]),_useState=Object(react.useState)(null),selectedDataset=_useState[0],setSelectedDataset=_useState[1],_useState2=Object(react.useState)(null),selectedManuscript=_useState2[0],setSelectedManuscript=_useState2[1],_useTask=Object(useTask.b)({status:"inactive",desc:""}),taskState=_useTask.state,taskDispatch=_useTask.dispatch,onSubmit=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(e){var mimeType,msg,manuscript,formData,undos,uploadManuscriptResponse,manuscriptId;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(e.preventDefault(),null!==selectedManuscript&&0!==selectedManuscript.length){_context.next=4;break}return taskDispatch({type:useTask.a.FAIL,payload:"Please upload a manuscript file."}),_context.abrupt("return");case 4:return _context.next=6,Object(fileUtils.a)(selectedManuscript[0]);case 6:if(mimeType=_context.sent,Object.values(arcore.b).includes(mimeType)){_context.next=12;break}return msg=selectedManuscript[0].type?selectedManuscript[0].type+" is not a supported file type.":"Unable to determine the file type of the uploaded file.",taskDispatch({type:useTask.a.FAIL,payload:msg}),_context.abrupt("return");case 12:return manuscript=selectedManuscript[0],""===selectedManuscript[0].type&&(manuscript=new File([manuscript],manuscript.name,{type:mimeType})),(formData=new browser_default.a).append("manuscript",manuscript),undos=[],_context.prev=17,taskDispatch({type:useTask.a.START,payload:"Uploading "+manuscript.name+"..."}),_context.next=21,Object(app.a)({method:"POST",url:"/api/datasets/"+(null==selectedDataset?void 0:selectedDataset.id)+"/manuscript",data:formData,headers:{"Content-Type":"multipart/form-data"}});case 21:return uploadManuscriptResponse=_context.sent,manuscriptId=uploadManuscriptResponse.data.data.files[0].dataFile.id,undos.push(Object(apiUtils.a)(manuscriptId)),taskDispatch({type:useTask.a.NEXT_STEP,payload:"Extracting annotations from "+manuscript.name+"..."}),_context.next=27,Object(app.a)({method:"PUT",url:"/api/arcore/"+manuscriptId,data:{datasetId:null==selectedDataset?void 0:selectedDataset.id,uploadAnnotations:!0}});case 27:return _context.next=29,Object(app.a)({method:"PUT",url:"/api/datasets/"+(null==selectedDataset?void 0:selectedDataset.id)+"/annorep"});case 29:taskDispatch({type:useTask.a.FINISH,payload:"Created ATI project for data project "+(null==selectedDataset?void 0:selectedDataset.label)+"."}),router.push("/ati/"+(null==selectedDataset?void 0:selectedDataset.id)+"/"+ati.b.manuscript.id),_context.next=38;break;case 33:return _context.prev=33,_context.t0=_context.catch(17),_context.next=37,Promise.all(undos.map((function(undo){return undo()})));case 37:taskDispatch({type:useTask.a.FAIL,payload:Object(httpRequestUtils.a)(_context.t0)});case 38:case"end":return _context.stop()}}),_callee,null,[[17,33]])})));return function onSubmit(_x){return _ref2.apply(this,arguments)}}();return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.container,children:Object(jsx_runtime.jsxs)(Form.a,{encType:"multipart/form-data",onSubmit:onSubmit,children:[Object(jsx_runtime.jsxs)("h1",{className:Form_module_default.a.title,children:["New ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," Project"]}),Object(jsx_runtime.jsxs)("p",{className:Form_module_default.a.desc,children:["An ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," project has two components:",Object(jsx_runtime.jsxs)(OrderedList.a,{native:!0,isExpressive:!0,children:[Object(jsx_runtime.jsxs)(ListItem.a,{children:["A ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," data project that holds all metadata as well as any data files"]}),Object(jsx_runtime.jsx)(ListItem.a,{children:"A manuscript to annotate"})]})]}),"inactive"!==taskState.status&&Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:Object(useTask.c)(taskState),subtitle:Object(jsx_runtime.jsx)("span",{children:taskState.desc}),title:Object(useTask.d)(taskState)})}),Object(jsx_runtime.jsxs)("fieldset",{children:[Object(jsx_runtime.jsxs)("legend",{className:"bx--file--label",children:["1. ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," data project"]}),Object(jsx_runtime.jsxs)("div",{className:Form_module_default.a.item+" "+NewAtiProjectForm_module_default.a.searchBox,children:[Object(jsx_runtime.jsx)(ComboBox.a,{id:"dataset-search",name:"dataset",required:!0,"aria-required":!0,items:getItems(state),itemToString:function itemToString(item){return(null==item?void 0:item.label)||""},placeholder:"Please choose a data project",titleText:Object(jsx_runtime.jsxs)("div",{className:NewAtiProjectForm_module_default.a.searchTitle,children:[Object(jsx_runtime.jsxs)("div",{children:["Link to a ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," data project"]}),Object(jsx_runtime.jsx)("div",{children:"error"!==state.status&&Object(jsx_runtime.jsx)(InlineLoading.a,{className:NewAtiProjectForm_module_default.a.searchLoader,status:state.status,description:getResultDesc(state)})})]}),helperText:Object(jsx_runtime.jsxs)("span",{children:["If your data project is already stored on ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"}),", choose a data project to link to your ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," project."]}),invalid:""!==state.error,invalidText:getErrorMsg(state),onInput:memoizedHandleSearch,onChange:function onSelectDataset(data){setSelectedDataset(data.selectedItem)}}),hasMoreDatasets(state)&&Object(jsx_runtime.jsx)(Button.a,{hasIconOnly:!0,kind:"tertiary",size:"md",iconDescription:"More data projects",tooltipPosition:"bottom",tooltipAlignment:"end",onClick:function onShowMore(){return dispatch({type:SearchDatasetActionType.UPDATE_PAGE})},children:Object(jsx_runtime.jsx)(bucket_18.c,{})})]}),Object(jsx_runtime.jsxs)("div",{className:Form_module_default.a.item,children:[Object(jsx_runtime.jsxs)("p",{className:"bx--label",children:["Don't have a ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," data project?"]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(Button.a,{kind:"ghost",size:"sm",as:"a",href:serverUrl+"/dataset.xhtml?ownerId=1",target:"_blank",rel:"noopener noreferrer",children:"Create new"}),Object(jsx_runtime.jsx)(Button.a,{kind:"ghost",size:"sm",onClick:function onRefreshDataProjects(){return dispatch({type:SearchDatasetActionType.UPDATE_Q,payload:""})},children:"Refresh data projects"})]})]})]}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(FileUploader.a,{"aria-required":!0,accept:[arcore.a.docx,arcore.a.pdf,arcore.b.docx,arcore.b.pdf],buttonKind:"tertiary",buttonLabel:"Add file",filenameStatus:"edit",iconDescription:"Clear file",labelDescription:"Supported file types are .docx and .pdf.",labelTitle:"2. Manuscript",name:"manuscript",size:"small",onDelete:function onClearFile(){setSelectedManuscript(null)},onChange:function onChangeFileUpload(e){setSelectedManuscript(e.target.files)}})}),Object(jsx_runtime.jsx)(Button.a,{className:Form_module_default.a.submitBtn,type:"submit",renderIcon:bucket_0.a,children:Object(jsx_runtime.jsxs)("span",{children:["Create ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," project"]})})]})})})}),ati_NewAtiProjectForm=NewAtiProjectForm_NewAtiProjectForm;try{NewAtiProjectForm_NewAtiProjectForm.displayName="NewAtiProjectForm",NewAtiProjectForm_NewAtiProjectForm.__docgenInfo={description:"Form to create a new ATI project",displayName:"NewAtiProjectForm",props:{datasets:{defaultValue:null,description:"List of Dataverse datasets",name:"datasets",required:!0,type:{name:"IDatasetOption[]"}},serverUrl:{defaultValue:null,description:"Dataverse server URL",name:"serverUrl",required:!0,type:{name:"string"}},initialTotalCount:{defaultValue:null,description:"The initial number of datasets",name:"initialTotalCount",required:!0,type:{name:"number"}},datasetsPerPage:{defaultValue:null,description:"The number of datasets per page",name:"datasetsPerPage",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/NewAtiProjectForm/index.tsx#NewAtiProjectForm"]={docgenInfo:NewAtiProjectForm_NewAtiProjectForm.__docgenInfo,name:"NewAtiProjectForm",path:"features/ati/NewAtiProjectForm/index.tsx#NewAtiProjectForm"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:ati_NewAtiProjectForm,title:"ATI/New ATI Project Form"};var NewAtiProjectForm_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ati_NewAtiProjectForm,Object.assign({},args))};NewAtiProjectForm_stories_Template.displayName="Template";var WithDatasets=NewAtiProjectForm_stories_Template.bind({});WithDatasets.args={datasets:[{id:"dataset-1",name:"Dataset 1"},{id:"dataset-2",name:"Dataset 2"},{id:"dataset-3",name:"Dataset 3"},{id:"dataset-4",name:"Dataset 4"}],serverUrl:"https://test.com",initialTotalCount:4,datasetsPerPage:10};var WithoutDatasets=NewAtiProjectForm_stories_Template.bind({});WithoutDatasets.args={datasets:[],serverUrl:"https://test.com",initialTotalCount:0,datasetsPerPage:10};var WithShowMoreDatasets=NewAtiProjectForm_stories_Template.bind({});WithShowMoreDatasets.args={datasets:[{id:"dataset-1",name:"Dataset 1"}],serverUrl:"https://test.com",initialTotalCount:2,datasetsPerPage:1},WithDatasets.parameters=Object.assign({storySource:{source:"(args) => <NewAtiProjectForm {...args} />"}},WithDatasets.parameters),WithoutDatasets.parameters=Object.assign({storySource:{source:"(args) => <NewAtiProjectForm {...args} />"}},WithoutDatasets.parameters),WithShowMoreDatasets.parameters=Object.assign({storySource:{source:"(args) => <NewAtiProjectForm {...args} />"}},WithShowMoreDatasets.parameters)},1366:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(11)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),slicedToArray=__webpack_require__(65),bucket_10=(__webpack_require__(54),__webpack_require__(13),__webpack_require__(26),__webpack_require__(60),__webpack_require__(9),__webpack_require__(1380)),bucket_26=__webpack_require__(1403),Link=__webpack_require__(1379),Form=__webpack_require__(1400),Notification=__webpack_require__(445),CopyButton=__webpack_require__(1419),TextInput=__webpack_require__(1416),Select=__webpack_require__(1401),SelectItem=__webpack_require__(1402),Toggle=__webpack_require__(1418),Button=__webpack_require__(221),lib=__webpack_require__(322),lib_default=__webpack_require__.n(lib),ati=__webpack_require__(50),hypothesis=__webpack_require__(84),DeleteAnnotationsModal=__webpack_require__(258),useBoolean=__webpack_require__(185),useTask=__webpack_require__(21),httpRequestUtils=__webpack_require__(82),hypothesisUtils=__webpack_require__(98),AtiExportAnnotations_module=__webpack_require__(217),AtiExportAnnotations_module_default=__webpack_require__.n(AtiExportAnnotations_module),Form_module=__webpack_require__(41),Form_module_default=__webpack_require__.n(Form_module),Layout_module=__webpack_require__(130),Layout_module_default=__webpack_require__.n(Layout_module),jsx_runtime=__webpack_require__(3),AtiExportAnnotations_AtiExportAnnotations=(react_default.a.createElement,function AtiExportAnnotations(_ref){var appUrl=_ref.appUrl,dataset=_ref.dataset,manuscript=_ref.manuscript,hypothesisGroups=_ref.hypothesisGroups,canAddQdrInfo=_ref.canAddQdrInfo,exportHypothesisUrl=Object(react.useRef)(""),_useTask=Object(useTask.b)({status:"inactive",desc:""}),exportTaskState=_useTask.state,exportTaskDispatch=_useTask.dispatch,_useTask2=Object(useTask.b)({status:"inactive",desc:""}),deleteTaskState=_useTask2.state,deleteTaskDispatch=_useTask2.dispatch,_useBoolean=Object(useBoolean.a)(!1),_useBoolean2=Object(slicedToArray.a)(_useBoolean,2),deleteAnnotationsModalIsOpen=_useBoolean2[0],_useBoolean2$=_useBoolean2[1],openDeleteAnnotationsModal=_useBoolean2$.setTrue,closeDeleteAnnotationsModal=_useBoolean2$.setFalse,_useState=Object(react.useState)(""),deleteAnnotationsHypothesisGroup=_useState[0],setDeleteAnnotationsHypothesisGroup=_useState[1],_useState2=Object(react.useState)(""),annotationsJsonStr=_useState2[0],setAnnotationsJsonStr=_useState2[1];Object(react.useEffect)((function(){var didCancel=!1,getAnnotationsJson=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var annotations,jsonStrs,arrayStr;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,Object(hypothesisUtils.c)({datasetId:dataset.id,hypothesisGroup:hypothesis.b,isAdminDownloader:!1});case 2:annotations=_context.sent,jsonStrs=annotations.map((function(annotation){return JSON.stringify(annotation)})),arrayStr=encodeURIComponent("["+jsonStrs.join(",")+"]"),didCancel||setAnnotationsJsonStr(arrayStr);case 6:case"end":return _context.stop()}}),_callee)})));return function getAnnotationsJson(){return _ref2.apply(this,arguments)}}();return manuscript.id&&getAnnotationsJson(),function(){didCancel=!0}}),[manuscript.id,dataset.id]);var onExportAnnotations=function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(e){var target,totalExported,hypothesisUrl,payload;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(e.preventDefault(),target=e.target,_context2.prev=2,target.sourceUrl.value!==target.destinationUrl.value||target.sourceHypothesisGroup.value!==target.destinationHypothesisGroup.value){_context2.next=5;break}throw new Error("Source Hypothes.is group and Destination Hypothes.is group must be different.");case 5:return exportTaskDispatch({type:useTask.a.START,payload:"Exporting annotations..."}),_context2.next=8,Object(hypothesisUtils.b)({datasetId:dataset.id,sourceHypothesisGroup:target.sourceHypothesisGroup.value,isAdminDownloader:!1,destinationUrl:target.destinationUrl.value,destinationHypothesisGroup:target.destinationHypothesisGroup.value,privateAnnotation:target.privateAnnotation.checked,isAdminAuthor:!1,taskDispatch:exportTaskDispatch,addQdrInfo:target.addQdrInfo&&target.addQdrInfo.checked?{manuscriptId:manuscript.id,datasetDoi:dataset.doi}:void 0});case 8:totalExported=_context2.sent,hypothesisUrl="https://hyp.is/go?url="+target.destinationUrl.value+"&group="+target.destinationHypothesisGroup.value,exportHypothesisUrl.current=hypothesisUrl,payload=Object(jsx_runtime.jsxs)("span",{children:["Exported "+totalExported+" annotation(s). Your manuscript with annotation(s) can\n            be accessed at your"," ",Object(jsx_runtime.jsxs)(Link.a,{href:hypothesisUrl,size:"md",target:"_blank",rel:"noopener noreferrer",children:[Object(jsx_runtime.jsxs)("span",{children:["destination ",Object(jsx_runtime.jsx)("abbr",{children:"URL"})]}),"."]})]}),exportTaskDispatch({type:useTask.a.FINISH,payload:payload}),_context2.next=18;break;case 15:_context2.prev=15,_context2.t0=_context2.catch(2),exportTaskDispatch({type:useTask.a.FAIL,payload:Object(httpRequestUtils.a)(_context2.t0)});case 18:case"end":return _context2.stop()}}),_callee2,null,[[2,15]])})));return function onExportAnnotations(_x){return _ref3.apply(this,arguments)}}(),onDeleteAnnotations=function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(e){var target;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:e.preventDefault(),target=e.target,setDeleteAnnotationsHypothesisGroup("all-hypothesis-groups-id"===target.sourceHypothesisGroup.value?"":target.sourceHypothesisGroup.value),openDeleteAnnotationsModal();case 4:case"end":return _context3.stop()}}),_callee3)})));return function onDeleteAnnotations(_x2){return _ref4.apply(this,arguments)}}(),handleDeleteAnnotations=function(){var _ref5=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee4(){var annotations,totalDeleted;return regenerator_default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return closeDeleteAnnotationsModal(),_context4.prev=1,deleteTaskDispatch({type:useTask.a.START,payload:"Deleting annotations..."}),_context4.next=5,Object(hypothesisUtils.c)({datasetId:dataset.id,hypothesisGroup:deleteAnnotationsHypothesisGroup,isAdminDownloader:!1});case 5:return annotations=_context4.sent,_context4.next=8,Object(hypothesisUtils.a)({annotations:annotations,datasetId:dataset.id,isAdminAuthor:!1,taskDispatch:deleteTaskDispatch});case 8:totalDeleted=_context4.sent,deleteTaskDispatch({type:useTask.a.FINISH,payload:"Deleted "+totalDeleted+" annotation(s) from "+manuscript.name+"."}),_context4.next=15;break;case 12:_context4.prev=12,_context4.t0=_context4.catch(1),deleteTaskDispatch({type:useTask.a.FAIL,payload:Object(httpRequestUtils.a)(_context4.t0)});case 15:case"end":return _context4.stop()}}),_callee4,null,[[1,12]])})));return function handleDeleteAnnotations(){return _ref5.apply(this,arguments)}}();return Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:Object(jsx_runtime.jsxs)("div",{className:Layout_module_default.a.maxWidth+" "+AtiExportAnnotations_module_default.a.formContainer,children:[Object(jsx_runtime.jsxs)(Form.a,{onSubmit:onExportAnnotations,children:[Object(jsx_runtime.jsx)("h2",{className:Form_module_default.a.title,children:"Export Hypothes.is annotations"}),manuscript.ingest&&Object(jsx_runtime.jsxs)("div",{className:AtiExportAnnotations_module_default.a.downloadContainer+" "+Form_module_default.a.desc,children:[Object(jsx_runtime.jsx)(Link.a,{href:"data:application/pdf;base64,"+manuscript.ingest,download:"ingest_manuscript.pdf",children:"Download manuscript"}),manuscript.id&&Object(jsx_runtime.jsx)(Link.a,{href:"data:application/json;charset=utf-8,"+annotationsJsonStr,download:"annotations.json",children:"Download annotations"})]}),"inactive"!==exportTaskState.status&&Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:Object(useTask.c)(exportTaskState),subtitle:exportTaskState.desc,title:Object(useTask.d)(exportTaskState),actions:"finished"===exportTaskState.status?Object(jsx_runtime.jsx)("div",{className:AtiExportAnnotations_module_default.a.copyAction,children:Object(jsx_runtime.jsx)(lib_default.a,{text:exportHypothesisUrl.current,children:Object(jsx_runtime.jsx)(CopyButton.a,{className:AtiExportAnnotations_module_default.a.copyButton,feedback:"Copied!",feedbackTimeout:3e3,iconDescription:"Copy URL to clipboard"})})}):void 0})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(TextInput.a,{readOnly:!0,"aria-readonly":!0,id:"export-annotations-source-url",name:"sourceUrl",value:appUrl+"/ati/"+dataset.id+"/"+ati.b.manuscript.id,type:"url",labelText:"Source URL",size:"xl"})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Select.a,{required:!0,"aria-required":!0,helperText:"Choose the Hypothes.is group from which to export annotations",id:"export-annotations-source-hypothesis-group",name:"sourceHypothesisGroup",labelText:"Source Hypothes.is group",defaultValue:hypothesis.b,children:hypothesisGroups.map((function(group){return Object(jsx_runtime.jsx)(SelectItem.a,{text:group.name+" ("+group.type+")",value:group.id},group.id)}))})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(TextInput.a,{id:"destination-url",name:"destinationUrl",type:"url",labelText:"Destination URL",helperText:"Enter the URL of where you want to export the annotations",required:!0,"aria-required":!0,size:"xl"})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Select.a,{required:!0,"aria-required":!0,helperText:"Choose the Hypothes.is group of the exported annotations",id:"destinaton-hypothesis-group",name:"destinationHypothesisGroup",labelText:"Destination Hypothes.is group",children:hypothesisGroups.map((function(group){return Object(jsx_runtime.jsx)(SelectItem.a,{text:group.name+" ("+group.type+")",value:group.id},group.id)}))})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Toggle.a,{id:"toggle-annotation-visibility",labelA:"No",labelB:"Yes",labelText:"Post annotations to only me",name:"privateAnnotation"})}),canAddQdrInfo&&Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Toggle.a,{id:"toggle-add-qdr-info",labelA:"No",labelB:"Yes",labelText:"Add QDR information to annotations",name:"addQdrInfo"})}),Object(jsx_runtime.jsx)(Button.a,{className:Form_module_default.a.submitBtn,type:"submit",renderIcon:bucket_10.d,disabled:"active"===exportTaskState.status,children:"Export annotations"})]}),Object(jsx_runtime.jsxs)(Form.a,{onSubmit:onDeleteAnnotations,className:AtiExportAnnotations_module_default.a.deleteForm,children:[Object(jsx_runtime.jsx)("h2",{children:"Delete Hypothes.is annotations"}),Object(jsx_runtime.jsx)("p",{className:Form_module_default.a.desc,children:"Note: You must have the required permissions to delete annotations."}),"inactive"!==deleteTaskState.status&&Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:Object(useTask.c)(deleteTaskState),subtitle:Object(jsx_runtime.jsx)("span",{children:deleteTaskState.desc}),title:Object(useTask.d)(deleteTaskState)})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(TextInput.a,{readOnly:!0,"aria-readonly":!0,id:"delete-annotations-source-url",name:"sourceUrl",value:appUrl+"/ati/"+dataset.id+"/"+ati.b.manuscript.id,type:"url",labelText:"Source URL",size:"xl"})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsxs)(Select.a,{required:!0,"aria-required":!0,helperText:"Choose the Hypothes.is group from which to delete annotations",id:"delete-annotations-source-hypothesis-group",name:"sourceHypothesisGroup",labelText:"Source Hypothes.is group",defaultValue:hypothesis.b,children:[Object(jsx_runtime.jsx)(SelectItem.a,{text:"All groups",value:"all-hypothesis-groups-id"},"all-hypothesis-groups-id"),hypothesisGroups.map((function(group){return Object(jsx_runtime.jsx)(SelectItem.a,{text:group.name+" ("+group.type+")",value:group.id},group.id)}))]})}),Object(jsx_runtime.jsx)(Button.a,{kind:"danger",className:Form_module_default.a.submitBtn,type:"submit",renderIcon:bucket_26.a,disabled:"active"===deleteTaskState.status,children:"Delete annotations"})]}),Object(jsx_runtime.jsx)(DeleteAnnotationsModal.a,{manuscriptName:manuscript.name,open:deleteAnnotationsModalIsOpen,closeModal:closeDeleteAnnotationsModal,handleDeleteAnnotations:handleDeleteAnnotations})]})})}),ati_AtiExportAnnotations=AtiExportAnnotations_AtiExportAnnotations;try{AtiExportAnnotations_AtiExportAnnotations.displayName="AtiExportAnnotations",AtiExportAnnotations_AtiExportAnnotations.__docgenInfo={description:"",displayName:"AtiExportAnnotations",props:{appUrl:{defaultValue:null,description:"The canonical url of the app",name:"appUrl",required:!0,type:{name:"string"}},dataset:{defaultValue:null,description:"The dataset of the ati project",name:"dataset",required:!0,type:{name:"IDataset"}},manuscript:{defaultValue:null,description:"The manuscript for the ati project",name:"manuscript",required:!0,type:{name:"IManuscript"}},hypothesisGroups:{defaultValue:null,description:"The list of hypothes.is groups",name:"hypothesisGroups",required:!0,type:{name:"IHypothesisGroup[]"}},canAddQdrInfo:{defaultValue:null,description:"Can the exported annotations be prefixed with QDR info?",name:"canAddQdrInfo",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiExportAnnotations/index.tsx#AtiExportAnnotations"]={docgenInfo:AtiExportAnnotations_AtiExportAnnotations.__docgenInfo,name:"AtiExportAnnotations",path:"features/ati/AtiExportAnnotations/index.tsx#AtiExportAnnotations"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:ati_AtiExportAnnotations,title:"ATI/ATI Export Annotations"};var AtiExportAnnotations_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ati_AtiExportAnnotations,Object.assign({},args))};AtiExportAnnotations_stories_Template.displayName="Template";var Default=AtiExportAnnotations_stories_Template.bind({});Default.args={dataset:{id:"dataset-id",doi:"dataset-doi",title:"Dataset title"},manuscript:{id:"manuscript-id",name:"manuscript",ingest:"JVBERi0xLjMNCiXi48/TDQoNCjEgMCBvYmoNCjw8DQovVHlwZSAvQ2F0YWxvZw0KL091dGxpbmVzIDIgMCBSDQovUGFnZXMgMyAwIFINCj4+DQplbmRvYmoNCg0KMiAwIG9iag0KPDwNCi9UeXBlIC9PdXRsaW5lcw0KL0NvdW50IDANCj4+DQplbmRvYmoNCg0KMyAwIG9iag0KPDwNCi9UeXBlIC9QYWdlcw0KL0NvdW50IDINCi9LaWRzIFsgNCAwIFIgNiAwIFIgXSANCj4+DQplbmRvYmoNCg0KNCAwIG9iag0KPDwNCi9UeXBlIC9QYWdlDQovUGFyZW50IDMgMCBSDQovUmVzb3VyY2VzIDw8DQovRm9udCA8PA0KL0YxIDkgMCBSIA0KPj4NCi9Qcm9jU2V0IDggMCBSDQo+Pg0KL01lZGlhQm94IFswIDAgNjEyLjAwMDAgNzkyLjAwMDBdDQovQ29udGVudHMgNSAwIFINCj4+DQplbmRvYmoNCg0KNSAwIG9iag0KPDwgL0xlbmd0aCAxMDc0ID4+DQpzdHJlYW0NCjIgSg0KQlQNCjAgMCAwIHJnDQovRjEgMDAyNyBUZg0KNTcuMzc1MCA3MjIuMjgwMCBUZA0KKCBBIFNpbXBsZSBQREYgRmlsZSApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY4OC42MDgwIFRkDQooIFRoaXMgaXMgYSBzbWFsbCBkZW1vbnN0cmF0aW9uIC5wZGYgZmlsZSAtICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjY0LjcwNDAgVGQNCigganVzdCBmb3IgdXNlIGluIHRoZSBWaXJ0dWFsIE1lY2hhbmljcyB0dXRvcmlhbHMuIE1vcmUgdGV4dC4gQW5kIG1vcmUgKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NTIuNzUyMCBUZA0KKCB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDYyOC44NDgwIFRkDQooIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjE2Ljg5NjAgVGQNCiggdGV4dC4gQW5kIG1vcmUgdGV4dC4gQm9yaW5nLCB6enp6ei4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjA0Ljk0NDAgVGQNCiggbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDU5Mi45OTIwIFRkDQooIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNTY5LjA4ODAgVGQNCiggQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA1NTcuMTM2MCBUZA0KKCB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBFdmVuIG1vcmUuIENvbnRpbnVlZCBvbiBwYWdlIDIgLi4uKSBUag0KRVQNCmVuZHN0cmVhbQ0KZW5kb2JqDQoNCjYgMCBvYmoNCjw8DQovVHlwZSAvUGFnZQ0KL1BhcmVudCAzIDAgUg0KL1Jlc291cmNlcyA8PA0KL0ZvbnQgPDwNCi9GMSA5IDAgUiANCj4+DQovUHJvY1NldCA4IDAgUg0KPj4NCi9NZWRpYUJveCBbMCAwIDYxMi4wMDAwIDc5Mi4wMDAwXQ0KL0NvbnRlbnRzIDcgMCBSDQo+Pg0KZW5kb2JqDQoNCjcgMCBvYmoNCjw8IC9MZW5ndGggNjc2ID4+DQpzdHJlYW0NCjIgSg0KQlQNCjAgMCAwIHJnDQovRjEgMDAyNyBUZg0KNTcuMzc1MCA3MjIuMjgwMCBUZA0KKCBTaW1wbGUgUERGIEZpbGUgMiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY4OC42MDgwIFRkDQooIC4uLmNvbnRpbnVlZCBmcm9tIHBhZ2UgMS4gWWV0IG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NzYuNjU2MCBUZA0KKCBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY2NC43MDQwIFRkDQooIHRleHQuIE9oLCBob3cgYm9yaW5nIHR5cGluZyB0aGlzIHN0dWZmLiBCdXQgbm90IGFzIGJvcmluZyBhcyB3YXRjaGluZyApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY1Mi43NTIwIFRkDQooIHBhaW50IGRyeS4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NDAuODAwMCBUZA0KKCBCb3JpbmcuICBNb3JlLCBhIGxpdHRsZSBtb3JlIHRleHQuIFRoZSBlbmQsIGFuZCBqdXN0IGFzIHdlbGwuICkgVGoNCkVUDQplbmRzdHJlYW0NCmVuZG9iag0KDQo4IDAgb2JqDQpbL1BERiAvVGV4dF0NCmVuZG9iag0KDQo5IDAgb2JqDQo8PA0KL1R5cGUgL0ZvbnQNCi9TdWJ0eXBlIC9UeXBlMQ0KL05hbWUgL0YxDQovQmFzZUZvbnQgL0hlbHZldGljYQ0KL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcNCj4+DQplbmRvYmoNCg0KMTAgMCBvYmoNCjw8DQovQ3JlYXRvciAoUmF2ZSBcKGh0dHA6Ly93d3cubmV2cm9uYS5jb20vcmF2ZVwpKQ0KL1Byb2R1Y2VyIChOZXZyb25hIERlc2lnbnMpDQovQ3JlYXRpb25EYXRlIChEOjIwMDYwMzAxMDcyODI2KQ0KPj4NCmVuZG9iag0KDQp4cmVmDQowIDExDQowMDAwMDAwMDAwIDY1NTM1IGYNCjAwMDAwMDAwMTkgMDAwMDAgbg0KMDAwMDAwMDA5MyAwMDAwMCBuDQowMDAwMDAwMTQ3IDAwMDAwIG4NCjAwMDAwMDAyMjIgMDAwMDAgbg0KMDAwMDAwMDM5MCAwMDAwMCBuDQowMDAwMDAxNTIyIDAwMDAwIG4NCjAwMDAwMDE2OTAgMDAwMDAgbg0KMDAwMDAwMjQyMyAwMDAwMCBuDQowMDAwMDAyNDU2IDAwMDAwIG4NCjAwMDAwMDI1NzQgMDAwMDAgbg0KDQp0cmFpbGVyDQo8PA0KL1NpemUgMTENCi9Sb290IDEgMCBSDQovSW5mbyAxMCAwIFINCj4+DQoNCnN0YXJ0eHJlZg0KMjcxNA0KJSVFT0YNCg=="},hypothesisGroups:[{id:"group-id",name:"Hypothesis Group",type:"public"}]},Default.parameters=Object.assign({storySource:{source:"(args) => <AtiExportAnnotations {...args} />"}},Default.parameters)},1367:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var UploadManuscriptActionType,react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(11)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),slicedToArray=__webpack_require__(65),Button=(__webpack_require__(54),__webpack_require__(13),__webpack_require__(9),__webpack_require__(156),__webpack_require__(80),__webpack_require__(95),__webpack_require__(19),__webpack_require__(16),__webpack_require__(23),__webpack_require__(26),__webpack_require__(221)),Notification=__webpack_require__(445),Form=__webpack_require__(1400),FileUploader=__webpack_require__(1417),Toggle=__webpack_require__(1418),browser=__webpack_require__(325),browser_default=__webpack_require__.n(browser),bucket_8=__webpack_require__(1406),bucket_26=__webpack_require__(1403),bucket_27=__webpack_require__(1382),next_router=__webpack_require__(165),app=__webpack_require__(52),DatasourceModal=__webpack_require__(268),DeleteManuscriptModal=__webpack_require__(260),IngestPdf=__webpack_require__(261),UploadManuscriptModal=__webpack_require__(262);function uploadManuscriptReducer(state,action){switch(action.type){case UploadManuscriptActionType.SAVE_VALID_UPLOAD_CONFIG:return{manuscript:action.payload.manuscript,uploadAnnotations:action.payload.uploadAnnotations,modalIsOpen:!0};case UploadManuscriptActionType.TOGGLE_MODAL_VISIBILITY:return Object.assign({},state,{modalIsOpen:!state.modalIsOpen});case UploadManuscriptActionType.SAVE_FILE_SELECTION:return Object.assign({},state,{manuscript:action.payload});case UploadManuscriptActionType.CLEAR_FILE_SELECTION:return Object.assign({},state,{manuscript:null});default:return state}}!function(UploadManuscriptActionType){UploadManuscriptActionType.TOGGLE_MODAL_VISIBILITY="TOGGLE_MODAL_VISIBILITY",UploadManuscriptActionType.SAVE_FILE_SELECTION="SAVE_FILE_SELECTION",UploadManuscriptActionType.CLEAR_FILE_SELECTION="CLEAR_FILE_SELECTION",UploadManuscriptActionType.SAVE_VALID_UPLOAD_CONFIG="SAVE_VALID_UPLOAD_CONFIG"}(UploadManuscriptActionType||(UploadManuscriptActionType={}));var HypothesisLoginNotificaton=__webpack_require__(263),useBoolean=__webpack_require__(185),useTask=__webpack_require__(21),arcore=__webpack_require__(85),apiUtils=__webpack_require__(327),fileUtils=__webpack_require__(328),httpRequestUtils=__webpack_require__(82),hypothesisUtils=__webpack_require__(98),AtiManuscript_module=__webpack_require__(336),AtiManuscript_module_default=__webpack_require__.n(AtiManuscript_module),Form_module=__webpack_require__(41),Form_module_default=__webpack_require__.n(Form_module),jsx_runtime=__webpack_require__(3),AtiManuscript_AtiManuscript=(react_default.a.createElement,function AtiManuscript(_ref){var _uploadManuscriptTask3,datasetId=_ref.datasetId,doi=_ref.doi,manuscript=_ref.manuscript,datasources=_ref.datasources,serverUrl=_ref.serverUrl,router=Object(next_router.useRouter)(),_useBoolean=Object(useBoolean.a)(!1),_useBoolean2=Object(slicedToArray.a)(_useBoolean,2),datasourcesModalIsOpen=_useBoolean2[0],_useBoolean2$=_useBoolean2[1],openDatasourcesModal=_useBoolean2$.setTrue,closeDatasourcesModal=_useBoolean2$.setFalse,_useBoolean3=Object(useBoolean.a)(!1),_useBoolean4=Object(slicedToArray.a)(_useBoolean3,2),deleteManuscriptModalIsOpen=_useBoolean4[0],_useBoolean4$=_useBoolean4[1],openDeleteManuscriptModal=_useBoolean4$.setTrue,closeDeleteManuscriptModal=_useBoolean4$.setFalse,_useReducer=Object(react.useReducer)(uploadManuscriptReducer,{manuscript:null,modalIsOpen:!1,uploadAnnotations:!1}),uploadManuscriptTaskState=_useReducer[0],uploadManuscriptTaskDispatch=_useReducer[1],_useTask=Object(useTask.b)({status:"inactive",desc:""}),taskState=_useTask.state,taskDispatch=_useTask.dispatch,handleDeleteManuscript=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return closeDeleteManuscriptModal(),taskDispatch({type:useTask.a.START,payload:"Deleting manuscript..."}),_context.next=4,app.a.delete("/api/delete-file/"+manuscript.id).then((function(){taskDispatch({type:useTask.a.FINISH,payload:"Deleted "+manuscript.name+"."}),router.reload()})).catch((function(error){taskDispatch({type:useTask.a.FAIL,payload:Object(httpRequestUtils.a)(error)})}));case 4:case"end":return _context.stop()}}),_callee)})));return function handleDeleteManuscript(){return _ref2.apply(this,arguments)}}(),onClickUploadManuscript=function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(e){var target,mimeType,msg,manuscript;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(e.preventDefault(),target=e.target,null!==uploadManuscriptTaskState.manuscript){_context2.next=5;break}return taskDispatch({type:useTask.a.FAIL,payload:"Please upload a manuscript file."}),_context2.abrupt("return");case 5:return _context2.next=7,Object(fileUtils.a)(uploadManuscriptTaskState.manuscript);case 7:if(mimeType=_context2.sent,Object.values(arcore.b).includes(mimeType)){_context2.next=13;break}return msg=uploadManuscriptTaskState.manuscript.type?uploadManuscriptTaskState.manuscript.type+" is not a supported file type.":"Unable to determine the file type of the uploaded file.",taskDispatch({type:useTask.a.FAIL,payload:msg}),_context2.abrupt("return");case 13:manuscript=uploadManuscriptTaskState.manuscript,""===uploadManuscriptTaskState.manuscript.type&&(manuscript=new File([manuscript],manuscript.name,{type:mimeType})),uploadManuscriptTaskDispatch({type:UploadManuscriptActionType.SAVE_VALID_UPLOAD_CONFIG,payload:{manuscript:manuscript,uploadAnnotations:target.uploadAnnotations.checked}});case 16:case"end":return _context2.stop()}}),_callee2)})));return function onClickUploadManuscript(_x){return _ref3.apply(this,arguments)}}(),handleUploadManuscript=function(){var _ref4=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee3(){var undos,_uploadManuscriptTask,_uploadManuscriptTask2,formData,uploadManuscriptResponse,newManuscriptId,deleteAnns;return regenerator_default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(uploadManuscriptTaskDispatch({type:UploadManuscriptActionType.TOGGLE_MODAL_VISIBILITY}),!uploadManuscriptTaskState.manuscript){_context3.next=33;break}return undos=[],_context3.prev=3,(formData=new browser_default.a).append("manuscript",uploadManuscriptTaskState.manuscript),taskDispatch({type:useTask.a.START,payload:"Uploading "+uploadManuscriptTaskState.manuscript.name+"..."}),_context3.next=9,app.a.post("/api/datasets/"+datasetId+"/manuscript",formData,{headers:{"Content-Type":"multipart/form-data"}});case 9:if(uploadManuscriptResponse=_context3.sent,newManuscriptId=uploadManuscriptResponse.data.data.files[0].dataFile.id,undos.push(Object(apiUtils.a)(newManuscriptId)),!uploadManuscriptTaskState.uploadAnnotations){_context3.next=19;break}return _context3.next=15,Object(hypothesisUtils.c)({datasetId:datasetId,hypothesisGroup:"",isAdminDownloader:!1});case 15:if(!((deleteAnns=_context3.sent).length>0)){_context3.next=19;break}return _context3.next=19,Object(hypothesisUtils.a)({datasetId:datasetId,annotations:deleteAnns,isAdminAuthor:!1});case 19:return taskDispatch({type:useTask.a.NEXT_STEP,payload:(uploadManuscriptTaskState.uploadAnnotations?"Extracting annotations":"Creating ingest PDF")+" from "+(null===(_uploadManuscriptTask=uploadManuscriptTaskState.manuscript)||void 0===_uploadManuscriptTask?void 0:_uploadManuscriptTask.name)+"..."}),_context3.next=22,app.a.put("/api/arcore/"+newManuscriptId,{datasetId:datasetId,uploadAnnotations:uploadManuscriptTaskState.uploadAnnotations});case 22:taskDispatch({type:useTask.a.FINISH,payload:"Uploaded "+(null===(_uploadManuscriptTask2=uploadManuscriptTaskState.manuscript)||void 0===_uploadManuscriptTask2?void 0:_uploadManuscriptTask2.name)+"."}),router.reload(),_context3.next=31;break;case 26:return _context3.prev=26,_context3.t0=_context3.catch(3),_context3.next=30,Promise.all(undos.map((function(undo){return undo()})));case 30:taskDispatch({type:useTask.a.FAIL,payload:Object(httpRequestUtils.a)(_context3.t0)});case 31:_context3.next=34;break;case 33:taskDispatch({type:useTask.a.FAIL,payload:"Please upload a manuscript file."});case 34:case"end":return _context3.stop()}}),_callee3,null,[[3,26]])})));return function handleUploadManuscript(){return _ref4.apply(this,arguments)}}();return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(DatasourceModal.a,{datasetId:datasetId,datasources:datasources,serverUrl:serverUrl,datasetDoi:doi,open:datasourcesModalIsOpen,closeModal:closeDatasourcesModal}),Object(jsx_runtime.jsx)(DeleteManuscriptModal.a,{manuscriptName:manuscript.name,open:deleteManuscriptModalIsOpen,closeModal:closeDeleteManuscriptModal,handleDeleteManuscript:handleDeleteManuscript}),Object(jsx_runtime.jsx)(UploadManuscriptModal.a,{manuscriptName:null===(_uploadManuscriptTask3=uploadManuscriptTaskState.manuscript)||void 0===_uploadManuscriptTask3?void 0:_uploadManuscriptTask3.name,uploadAnnotations:uploadManuscriptTaskState.uploadAnnotations,open:uploadManuscriptTaskState.modalIsOpen,closeModal:function closeModal(){return uploadManuscriptTaskDispatch({type:UploadManuscriptActionType.TOGGLE_MODAL_VISIBILITY})},handleUploadManuscript:handleUploadManuscript}),Object(jsx_runtime.jsxs)("div",{className:AtiManuscript_module_default.a.tabContainer,children:[Object(jsx_runtime.jsx)(HypothesisLoginNotificaton.a,{}),Object(jsx_runtime.jsxs)("div",{className:AtiManuscript_module_default.a.buttonContainer,children:[Object(jsx_runtime.jsx)(Button.a,{kind:"tertiary",size:"md",onClick:openDatasourcesModal,renderIcon:bucket_8.a,children:"Add data sources"}),manuscript.id&&Object(jsx_runtime.jsx)(Button.a,{kind:"danger",size:"md",renderIcon:bucket_26.b,onClick:function onClickDeleteManuscript(){openDeleteManuscriptModal()},children:"Delete manuscript"})]}),"inactive"!==taskState.status&&Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:Object(useTask.c)(taskState),subtitle:Object(jsx_runtime.jsx)("span",{children:taskState.desc}),title:Object(useTask.d)(taskState)}),manuscript.id?manuscript.ingest?Object(jsx_runtime.jsx)(IngestPdf.a,{pdf:manuscript.ingest}):Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:"info",subtitle:Object(jsx_runtime.jsx)("span",{children:"Ingest PDF of manuscript not found."}),title:"Error!"}):Object(jsx_runtime.jsx)("div",{className:AtiManuscript_module_default.a.centerUploadManuscript,children:Object(jsx_runtime.jsxs)(Form.a,{onSubmit:onClickUploadManuscript,children:[Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(FileUploader.a,{"aria-required":!0,accept:[arcore.a.docx,arcore.a.pdf,arcore.b.docx,arcore.b.pdf],buttonKind:"tertiary",buttonLabel:"Add file",filenameStatus:"edit",iconDescription:"Clear file",labelDescription:"Supported file types are .docx and .pdf",labelTitle:"Upload manuscript",name:"manuscript",size:"small",onChange:function onChangeFileUpload(e){e.target.files&&e.target.files.length>0?uploadManuscriptTaskDispatch({type:UploadManuscriptActionType.SAVE_FILE_SELECTION,payload:e.target.files[0]}):uploadManuscriptTaskDispatch({type:UploadManuscriptActionType.CLEAR_FILE_SELECTION})},onDelete:function onClearFile(){uploadManuscriptTaskDispatch({type:UploadManuscriptActionType.CLEAR_FILE_SELECTION})}})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Toggle.a,{id:"upload-annotations-toggle",labelA:"No",labelB:"Yes",labelText:"Start with new annotations?",name:"uploadAnnotations"})}),Object(jsx_runtime.jsx)(Button.a,{type:"submit",kind:"tertiary",size:"sm",renderIcon:bucket_27.a,children:"Upload manuscript"})]})})]})]})}),ati_AtiManuscript=AtiManuscript_AtiManuscript;try{AtiManuscript_AtiManuscript.displayName="AtiManuscript",AtiManuscript_AtiManuscript.__docgenInfo={description:"",displayName:"AtiManuscript",props:{datasetId:{defaultValue:null,description:"The dataset id for the ati project",name:"datasetId",required:!0,type:{name:"string"}},doi:{defaultValue:null,description:"The doi of the dataset for the ati project",name:"doi",required:!0,type:{name:"string"}},datasources:{defaultValue:null,description:"The list of datasources",name:"datasources",required:!0,type:{name:"IDatasource[]"}},serverUrl:{defaultValue:null,description:"The dataverse server url where the dataset is deposited",name:"serverUrl",required:!0,type:{name:"string"}},manuscript:{defaultValue:null,description:"The manuscript for the ati project",name:"manuscript",required:!0,type:{name:"IManuscript"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiManuscript/index.tsx#AtiManuscript"]={docgenInfo:AtiManuscript_AtiManuscript.__docgenInfo,name:"AtiManuscript",path:"features/ati/AtiManuscript/index.tsx#AtiManuscript"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:ati_AtiManuscript,decorators:[function(Story){return Object(jsx_runtime.jsx)("div",{style:{marginTop:"3em"},children:Object(jsx_runtime.jsx)(Story,{})})}],title:"ATI/ATI Manuscript"};var AtiManuscript_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ati_AtiManuscript,Object.assign({},args))};AtiManuscript_stories_Template.displayName="Template";var Default=AtiManuscript_stories_Template.bind({});Default.args={datasetId:"dataset-id",doi:"doi",datasources:[{id:"datasource-id",name:"Datasource",uri:"https://datasource-uri.com"}],serverUrl:"https://test.com",manuscript:{id:"manuscript-id",name:"Manuscript Name",ingest:"JVBERi0xLjMNCiXi48/TDQoNCjEgMCBvYmoNCjw8DQovVHlwZSAvQ2F0YWxvZw0KL091dGxpbmVzIDIgMCBSDQovUGFnZXMgMyAwIFINCj4+DQplbmRvYmoNCg0KMiAwIG9iag0KPDwNCi9UeXBlIC9PdXRsaW5lcw0KL0NvdW50IDANCj4+DQplbmRvYmoNCg0KMyAwIG9iag0KPDwNCi9UeXBlIC9QYWdlcw0KL0NvdW50IDINCi9LaWRzIFsgNCAwIFIgNiAwIFIgXSANCj4+DQplbmRvYmoNCg0KNCAwIG9iag0KPDwNCi9UeXBlIC9QYWdlDQovUGFyZW50IDMgMCBSDQovUmVzb3VyY2VzIDw8DQovRm9udCA8PA0KL0YxIDkgMCBSIA0KPj4NCi9Qcm9jU2V0IDggMCBSDQo+Pg0KL01lZGlhQm94IFswIDAgNjEyLjAwMDAgNzkyLjAwMDBdDQovQ29udGVudHMgNSAwIFINCj4+DQplbmRvYmoNCg0KNSAwIG9iag0KPDwgL0xlbmd0aCAxMDc0ID4+DQpzdHJlYW0NCjIgSg0KQlQNCjAgMCAwIHJnDQovRjEgMDAyNyBUZg0KNTcuMzc1MCA3MjIuMjgwMCBUZA0KKCBBIFNpbXBsZSBQREYgRmlsZSApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY4OC42MDgwIFRkDQooIFRoaXMgaXMgYSBzbWFsbCBkZW1vbnN0cmF0aW9uIC5wZGYgZmlsZSAtICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjY0LjcwNDAgVGQNCigganVzdCBmb3IgdXNlIGluIHRoZSBWaXJ0dWFsIE1lY2hhbmljcyB0dXRvcmlhbHMuIE1vcmUgdGV4dC4gQW5kIG1vcmUgKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NTIuNzUyMCBUZA0KKCB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDYyOC44NDgwIFRkDQooIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjE2Ljg5NjAgVGQNCiggdGV4dC4gQW5kIG1vcmUgdGV4dC4gQm9yaW5nLCB6enp6ei4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjA0Ljk0NDAgVGQNCiggbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDU5Mi45OTIwIFRkDQooIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNTY5LjA4ODAgVGQNCiggQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA1NTcuMTM2MCBUZA0KKCB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBFdmVuIG1vcmUuIENvbnRpbnVlZCBvbiBwYWdlIDIgLi4uKSBUag0KRVQNCmVuZHN0cmVhbQ0KZW5kb2JqDQoNCjYgMCBvYmoNCjw8DQovVHlwZSAvUGFnZQ0KL1BhcmVudCAzIDAgUg0KL1Jlc291cmNlcyA8PA0KL0ZvbnQgPDwNCi9GMSA5IDAgUiANCj4+DQovUHJvY1NldCA4IDAgUg0KPj4NCi9NZWRpYUJveCBbMCAwIDYxMi4wMDAwIDc5Mi4wMDAwXQ0KL0NvbnRlbnRzIDcgMCBSDQo+Pg0KZW5kb2JqDQoNCjcgMCBvYmoNCjw8IC9MZW5ndGggNjc2ID4+DQpzdHJlYW0NCjIgSg0KQlQNCjAgMCAwIHJnDQovRjEgMDAyNyBUZg0KNTcuMzc1MCA3MjIuMjgwMCBUZA0KKCBTaW1wbGUgUERGIEZpbGUgMiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY4OC42MDgwIFRkDQooIC4uLmNvbnRpbnVlZCBmcm9tIHBhZ2UgMS4gWWV0IG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NzYuNjU2MCBUZA0KKCBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY2NC43MDQwIFRkDQooIHRleHQuIE9oLCBob3cgYm9yaW5nIHR5cGluZyB0aGlzIHN0dWZmLiBCdXQgbm90IGFzIGJvcmluZyBhcyB3YXRjaGluZyApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY1Mi43NTIwIFRkDQooIHBhaW50IGRyeS4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NDAuODAwMCBUZA0KKCBCb3JpbmcuICBNb3JlLCBhIGxpdHRsZSBtb3JlIHRleHQuIFRoZSBlbmQsIGFuZCBqdXN0IGFzIHdlbGwuICkgVGoNCkVUDQplbmRzdHJlYW0NCmVuZG9iag0KDQo4IDAgb2JqDQpbL1BERiAvVGV4dF0NCmVuZG9iag0KDQo5IDAgb2JqDQo8PA0KL1R5cGUgL0ZvbnQNCi9TdWJ0eXBlIC9UeXBlMQ0KL05hbWUgL0YxDQovQmFzZUZvbnQgL0hlbHZldGljYQ0KL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcNCj4+DQplbmRvYmoNCg0KMTAgMCBvYmoNCjw8DQovQ3JlYXRvciAoUmF2ZSBcKGh0dHA6Ly93d3cubmV2cm9uYS5jb20vcmF2ZVwpKQ0KL1Byb2R1Y2VyIChOZXZyb25hIERlc2lnbnMpDQovQ3JlYXRpb25EYXRlIChEOjIwMDYwMzAxMDcyODI2KQ0KPj4NCmVuZG9iag0KDQp4cmVmDQowIDExDQowMDAwMDAwMDAwIDY1NTM1IGYNCjAwMDAwMDAwMTkgMDAwMDAgbg0KMDAwMDAwMDA5MyAwMDAwMCBuDQowMDAwMDAwMTQ3IDAwMDAwIG4NCjAwMDAwMDAyMjIgMDAwMDAgbg0KMDAwMDAwMDM5MCAwMDAwMCBuDQowMDAwMDAxNTIyIDAwMDAwIG4NCjAwMDAwMDE2OTAgMDAwMDAgbg0KMDAwMDAwMjQyMyAwMDAwMCBuDQowMDAwMDAyNDU2IDAwMDAwIG4NCjAwMDAwMDI1NzQgMDAwMDAgbg0KDQp0cmFpbGVyDQo8PA0KL1NpemUgMTENCi9Sb290IDEgMCBSDQovSW5mbyAxMCAwIFINCj4+DQoNCnN0YXJ0eHJlZg0KMjcxNA0KJSVFT0YNCg=="}},Default.parameters=Object.assign({storySource:{source:"(args) => <AtiManuscript {...args} />"}},Default.parameters)},1370:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(32),__webpack_require__(8),__webpack_require__(67),__webpack_require__(585),__webpack_require__(1208),__webpack_require__(73),__webpack_require__(1209),__webpack_require__(1210),__webpack_require__(584);var client_api=__webpack_require__(101),esm=__webpack_require__(6),parameters=(__webpack_require__(1211),__webpack_require__(1213),{actions:{argTypesRegex:"^(on|handle)[A-Z].*"}});function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))},1371:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(11)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),slicedToArray=__webpack_require__(65),bucket_26=(__webpack_require__(54),__webpack_require__(13),__webpack_require__(9),__webpack_require__(1403)),Form=__webpack_require__(1400),Notification=__webpack_require__(445),Button=__webpack_require__(221),next_router=__webpack_require__(165),app=__webpack_require__(52),DeleteAtiModal=__webpack_require__(265),useBoolean=__webpack_require__(185),useTask=__webpack_require__(21),httpRequestUtils=__webpack_require__(82),hypothesisUtils=__webpack_require__(98),AtiSettings_module=__webpack_require__(337),AtiSettings_module_default=__webpack_require__.n(AtiSettings_module),Form_module=__webpack_require__(41),Form_module_default=__webpack_require__.n(Form_module),Layout_module=__webpack_require__(130),Layout_module_default=__webpack_require__.n(Layout_module),jsx_runtime=__webpack_require__(3),AtiSettings_AtiSettings=(react_default.a.createElement,function AtiSettings(_ref){var dataset=_ref.dataset,manuscript=_ref.manuscript,router=Object(next_router.useRouter)(),_useBoolean=Object(useBoolean.a)(!1),_useBoolean2=Object(slicedToArray.a)(_useBoolean,2),deleteAtiModalIsOpen=_useBoolean2[0],_useBoolean2$=_useBoolean2[1],openDeleteAtiModal=_useBoolean2$.setTrue,closeDeleteAtiModal=_useBoolean2$.setFalse,_useTask=Object(useTask.b)({status:"inactive",desc:""}),taskState=_useTask.state,taskDispatch=_useTask.dispatch,onSubmit=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(e){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:e.preventDefault(),openDeleteAtiModal();case 2:case"end":return _context.stop()}}),_callee)})));return function onSubmit(_x){return _ref2.apply(this,arguments)}}(),handleDeleteAti=function(){var _ref3=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee2(){var deleteAnns;return regenerator_default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return closeDeleteAtiModal(),_context2.prev=1,taskDispatch({type:useTask.a.START,payload:"Deleting ATI project..."}),_context2.next=5,Object(hypothesisUtils.c)({datasetId:dataset.id,hypothesisGroup:"",isAdminDownloader:!1});case 5:if(!((deleteAnns=_context2.sent).length>0)){_context2.next=10;break}return taskDispatch({type:useTask.a.NEXT_STEP,payload:"Deleting annotations from Hypothes.is server..."}),_context2.next=10,Object(hypothesisUtils.a)({taskDispatch:taskDispatch,datasetId:dataset.id,annotations:deleteAnns,isAdminAuthor:!1});case 10:if(!manuscript.id){_context2.next=14;break}return taskDispatch({type:useTask.a.NEXT_STEP,payload:"Deleting manuscript "+manuscript.name+"..."}),_context2.next=14,app.a.delete("/api/delete-file/"+manuscript.id);case 14:return _context2.next=16,app.a.put("/api/datasets/"+dataset.id+"/annorep/delete");case 16:taskDispatch({type:useTask.a.FINISH,payload:"Deleted ATI project from data project "+dataset.title+"."}),router.push("/"),_context2.next=23;break;case 20:_context2.prev=20,_context2.t0=_context2.catch(1),taskDispatch({type:useTask.a.FAIL,payload:Object(httpRequestUtils.a)(_context2.t0)});case 23:case"end":return _context2.stop()}}),_callee2,null,[[1,20]])})));return function handleDeleteAti(){return _ref3.apply(this,arguments)}}();return Object(jsx_runtime.jsxs)("div",{className:Layout_module_default.a.maxWidth,children:[Object(jsx_runtime.jsx)("h2",{children:"Danger zone"}),Object(jsx_runtime.jsxs)("div",{className:AtiSettings_module_default.a.dangerZone,children:[Object(jsx_runtime.jsxs)(Form.a,{onSubmit:onSubmit,children:[Object(jsx_runtime.jsxs)("div",{className:AtiSettings_module_default.a.title,children:["Delete ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," project"]}),Object(jsx_runtime.jsxs)("p",{className:AtiSettings_module_default.a.desc,children:["Unmark the ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," data project as an ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," project and remove the manuscript file."]}),"inactive"!==taskState.status&&Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:Object(useTask.c)(taskState),subtitle:Object(jsx_runtime.jsx)("span",{children:taskState.desc}),title:Object(useTask.d)(taskState)})}),Object(jsx_runtime.jsx)(Button.a,{type:"submit",kind:"danger",size:"sm",renderIcon:bucket_26.a,children:"Delete"})]}),Object(jsx_runtime.jsx)(DeleteAtiModal.a,{atiName:dataset.title,open:deleteAtiModalIsOpen,closeModal:closeDeleteAtiModal,handleDeleteAti:handleDeleteAti})]})]})});AtiSettings_AtiSettings.displayName="AtiSettings";var ati_AtiSettings=AtiSettings_AtiSettings;try{AtiSettings_AtiSettings.displayName="AtiSettings",AtiSettings_AtiSettings.__docgenInfo={description:"",displayName:"AtiSettings",props:{dataset:{defaultValue:null,description:"The dataset for the ati project",name:"dataset",required:!0,type:{name:"IDataset"}},manuscript:{defaultValue:null,description:"The manuscript for the ati project",name:"manuscript",required:!0,type:{name:"IManuscript"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiSettings/index.tsx#AtiSettings"]={docgenInfo:AtiSettings_AtiSettings.__docgenInfo,name:"AtiSettings",path:"features/ati/AtiSettings/index.tsx#AtiSettings"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:ati_AtiSettings,title:"ATI/ATI Settings"};var AtiSettings_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ati_AtiSettings,Object.assign({},args))};AtiSettings_stories_Template.displayName="Template";var Default=AtiSettings_stories_Template.bind({});Default.args={dataset:{id:"dataset-id",doi:"doi",title:"Dataset title"},manuscript:{id:"manuscript-id",name:"Manuscript name"}},Default.parameters=Object.assign({storySource:{source:"(args) => <AtiSettings {...args} />"}},Default.parameters)},1372:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),regenerator=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(11)),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),Notification=(__webpack_require__(8),__webpack_require__(15),__webpack_require__(80),__webpack_require__(95),__webpack_require__(54),__webpack_require__(13),__webpack_require__(26),__webpack_require__(666),__webpack_require__(9),__webpack_require__(445)),Link=__webpack_require__(1379),Tag=__webpack_require__(706),Button=__webpack_require__(221),UnorderedList=__webpack_require__(1410),ListItem=__webpack_require__(1411),bucket_14=__webpack_require__(1385),next_router=__webpack_require__(165),app=__webpack_require__(52),ati=__webpack_require__(50),dataverse=__webpack_require__(127),hypothesis=__webpack_require__(84),useTask=__webpack_require__(21),httpRequestUtils=__webpack_require__(82),hypothesisUtils=__webpack_require__(98),AtiSummary_module=__webpack_require__(219),AtiSummary_module_default=__webpack_require__.n(AtiSummary_module),Layout_module=__webpack_require__(130),Layout_module_default=__webpack_require__.n(Layout_module),AtiProject_module=__webpack_require__(188),AtiProject_module_default=__webpack_require__.n(AtiProject_module),jsx_runtime=__webpack_require__(3),AtiSummary_AtiSummary=(react_default.a.createElement,function AtiSummary(_ref){var serverUrl=_ref.serverUrl,atiProjectDetails=_ref.atiProjectDetails,appUrl=_ref.appUrl,hypothesisAtiStagingGroupId=_ref.hypothesisAtiStagingGroupId,_atiProjectDetails$da=atiProjectDetails.dataset,id=_atiProjectDetails$da.id,doi=_atiProjectDetails$da.doi,title=_atiProjectDetails$da.title,description=_atiProjectDetails$da.description,subjects=_atiProjectDetails$da.subjects,publicationStatuses=_atiProjectDetails$da.publicationStatuses,citationHtml=_atiProjectDetails$da.citationHtml,manuscript=atiProjectDetails.manuscript,datasources=atiProjectDetails.datasources,router=Object(next_router.useRouter)(),_useTask=Object(useTask.b)({status:"inactive",desc:""}),taskState=_useTask.state,taskDispatch=_useTask.dispatch,hasSubmittedForReview=null==publicationStatuses?void 0:publicationStatuses.includes("In Review"),submitForReview=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){var deleteAnns;return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,taskDispatch({type:useTask.a.START,payload:"Submitting project for review..."}),_context.next=4,Object(hypothesisUtils.c)({datasetId:id,hypothesisGroup:hypothesisAtiStagingGroupId,isAdminDownloader:!0});case 4:if(!((deleteAnns=_context.sent).length>0)){_context.next=8;break}return _context.next=8,Object(hypothesisUtils.a)({datasetId:id,annotations:deleteAnns,isAdminAuthor:!0});case 8:return taskDispatch({type:useTask.a.NEXT_STEP,payload:"Exporting annotations for review..."}),_context.next=11,Object(hypothesisUtils.b)({taskDispatch:taskDispatch,datasetId:id,sourceHypothesisGroup:hypothesis.b,isAdminDownloader:!1,destinationUrl:appUrl+"/ati/"+id+"/"+ati.b.manuscript.id,destinationHypothesisGroup:hypothesisAtiStagingGroupId,isAdminAuthor:!0,privateAnnotation:!1});case 11:return _context.next=13,app.a.post("/api/datasets/"+id+"/submit-for-review");case 13:taskDispatch({type:useTask.a.FINISH,payload:"Submitted "+title+" for review."}),router.reload(),_context.next=20;break;case 17:_context.prev=17,_context.t0=_context.catch(0),taskDispatch({type:useTask.a.FAIL,payload:Object(httpRequestUtils.a)(_context.t0)});case 20:case"end":return _context.stop()}}),_callee,null,[[0,17]])})));return function submitForReview(){return _ref2.apply(this,arguments)}}();return Object(jsx_runtime.jsxs)("div",{className:Layout_module_default.a.maxWidth+" "+AtiSummary_module_default.a.sectionContainer,children:["inactive"!==taskState.status&&Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:Object(useTask.c)(taskState),subtitle:Object(jsx_runtime.jsx)("span",{children:taskState.desc}),title:Object(useTask.d)(taskState)}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("h2",{children:Object(jsx_runtime.jsx)(Link.a,{href:serverUrl+"/dataset.xhtml?persistentId="+doi,target:"_blank",rel:"noopener noreferrer",size:"lg",renderIcon:bucket_14.a,children:title})}),Object(jsx_runtime.jsx)("div",{children:null==publicationStatuses?void 0:publicationStatuses.sort().map((function(status,i){return Object(jsx_runtime.jsx)(Tag.a,{id:status,type:dataverse.b[status],size:"sm",children:status},i)}))})]}),Object(jsx_runtime.jsxs)("div",{className:AtiSummary_module_default.a.aboutContainer,children:[Object(jsx_runtime.jsx)("div",{className:AtiSummary_module_default.a.buttonSet,children:Object(jsx_runtime.jsx)(Button.a,{kind:"primary",size:"sm",disabled:hasSubmittedForReview,onClick:submitForReview,children:hasSubmittedForReview?"Submitted for review":"Submit for review"})}),Object(jsx_runtime.jsxs)("div",{className:AtiSummary_module_default.a.about,children:[citationHtml&&Object(jsx_runtime.jsxs)("p",{className:AtiProject_module_default.a.citation,children:[Object(jsx_runtime.jsx)("span",{dangerouslySetInnerHTML:{__html:citationHtml}})," "]}),Object(jsx_runtime.jsxs)("dl",{className:AtiSummary_module_default.a.descriptionList,children:[Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Description"}),Object(jsx_runtime.jsx)("dd",{children:description})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Subject"}),Object(jsx_runtime.jsx)("dd",{children:Object(jsx_runtime.jsx)(UnorderedList.a,{children:null==subjects?void 0:subjects.map((function(subject){return Object(jsx_runtime.jsx)(ListItem.a,{children:subject},subject)}))})})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Manuscript"}),Object(jsx_runtime.jsx)("dd",{children:manuscript.name||"No manuscript found"})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("dt",{children:"Datasource(s)"}),Object(jsx_runtime.jsx)("dd",{children:0===datasources.length?Object(jsx_runtime.jsx)("span",{children:"No datasource(s) found"}):Object(jsx_runtime.jsx)(UnorderedList.a,{children:datasources.map((function(_ref3){var id=_ref3.id,name=_ref3.name;return Object(jsx_runtime.jsx)(ListItem.a,{children:name},id)}))})})]})]})]})]})]})});AtiSummary_AtiSummary.displayName="AtiSummary";var ati_AtiSummary=AtiSummary_AtiSummary;try{AtiSummary_AtiSummary.displayName="AtiSummary",AtiSummary_AtiSummary.__docgenInfo={description:"",displayName:"AtiSummary",props:{appUrl:{defaultValue:null,description:"The canonical url of the app",name:"appUrl",required:!0,type:{name:"string"}},hypothesisAtiStagingGroupId:{defaultValue:null,description:"The hypothesis groupd id of ATI_Staging",name:"hypothesisAtiStagingGroupId",required:!0,type:{name:"string"}},serverUrl:{defaultValue:null,description:"The dataverse server url where the dataset for the ati project is deposited",name:"serverUrl",required:!0,type:{name:"string"}},atiProjectDetails:{defaultValue:null,description:"The ati project details",name:"atiProjectDetails",required:!0,type:{name:"IATIProjectDetails"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiSummary/index.tsx#AtiSummary"]={docgenInfo:AtiSummary_AtiSummary.__docgenInfo,name:"AtiSummary",path:"features/ati/AtiSummary/index.tsx#AtiSummary"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:ati_AtiSummary,title:"ATI/ATI Summary"};var AtiSummary_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ati_AtiSummary,Object.assign({},args))};AtiSummary_stories_Template.displayName="Template";var Default=AtiSummary_stories_Template.bind({});Default.args={serverUrl:"https://test.com",atiProjectDetails:{dataset:{id:"dataset-id",doi:"doi",title:"Dataset",description:"Description",subjects:["Subject"],publicationStatuses:["Draft"],citationHtml:"Citation HTML"},manuscript:{id:"manuscript-id",name:"Manuscript Name"},datasources:[{id:"datasource-id",name:"Datasource",uri:"https://test.com"}]}},Default.parameters=Object.assign({storySource:{source:"(args) => <AtiSummary {...args} />"}},Default.parameters)},1373:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"AtiSummary",(function(){return AtiSummary})),__webpack_require__.d(__webpack_exports__,"AtiManuscript",(function(){return AtiManuscript})),__webpack_require__.d(__webpack_exports__,"AtiExportAnnotations",(function(){return AtiExportAnnotations})),__webpack_require__.d(__webpack_exports__,"AtiSettings",(function(){return AtiSettings}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),Notification=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(556),__webpack_require__(445)),Tabs=__webpack_require__(1421),Tab=__webpack_require__(1412),Layout=__webpack_require__(330),ati=__webpack_require__(50),AtiTab_module=__webpack_require__(700),AtiTab_module_default=__webpack_require__.n(AtiTab_module),jsx_runtime=__webpack_require__(3),AtiTab_AtiTab=(react_default.a.createElement,function AtiTab(_ref){var content,dataset=_ref.dataset,children=_ref.children,user=_ref.user,selectedTab=_ref.selectedTab,selectedTabIndex=ati.c.findIndex((function(tab){return tab===selectedTab}));return content=null!==dataset&&user?Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)("h1",{children:null==dataset?void 0:dataset.title}),Object(jsx_runtime.jsxs)(Tabs.a,{className:AtiTab_module_default.a.tabs,selected:selectedTabIndex,onSelectionChange:function onSelectionChange(index){return window.location.assign("/ati/"+(null==dataset?void 0:dataset.id)+"/"+ati.c[index])},children:[Object(jsx_runtime.jsx)(Tab.a,{id:ati.b.summary.id,label:ati.b.summary.label,children:selectedTab===ati.b.summary.id&&Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})}),Object(jsx_runtime.jsx)(Tab.a,{id:ati.b.manuscript.id,label:ati.b.manuscript.label,children:selectedTab===ati.b.manuscript.id&&Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})}),Object(jsx_runtime.jsx)(Tab.a,{id:ati.b.exportAnnotations.id,label:ati.b.exportAnnotations.label,children:selectedTab===ati.b.exportAnnotations.id&&Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})}),Object(jsx_runtime.jsx)(Tab.a,{id:ati.b.settings.id,label:ati.b.settings.label,children:selectedTab===ati.b.settings.id&&Object(jsx_runtime.jsx)(jsx_runtime.Fragment,{children:children})})]})]}):Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:null===dataset?"error":"info",subtitle:Object(jsx_runtime.jsx)("span",{children:null===dataset?"You don't have access to this ATI project.":"Please login."}),title:null===dataset?"Error!":"Unauthorized!"}),Object(jsx_runtime.jsx)(Layout.a,{title:dataset?"AnnoREP - "+dataset.title:"AnnoREP",user:user,children:content})});AtiTab_AtiTab.displayName="AtiTab";var ati_AtiTab=AtiTab_AtiTab;try{AtiTab_AtiTab.displayName="AtiTab",AtiTab_AtiTab.__docgenInfo={description:"A container for different tabs of an ati project",displayName:"AtiTab",props:{selectedTab:{defaultValue:null,description:"The selected tab",name:"selectedTab",required:!0,type:{name:"enum",value:[{value:'"manuscript"'},{value:'"summary"'},{value:'"exportAnnotations"'},{value:'"settings"'}]}},children:{defaultValue:null,description:"The children of the tab",name:"children",required:!1,type:{name:"ReactNode"}},user:{defaultValue:null,description:"Is the user logged in?",name:"user",required:!0,type:{name:"IAnnoRepUser | null"}},dataset:{defaultValue:null,description:"The dataset for the ati project",name:"dataset",required:!0,type:{name:"IDataset | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiTab/index.tsx#AtiTab"]={docgenInfo:AtiTab_AtiTab.__docgenInfo,name:"AtiTab",path:"features/ati/AtiTab/index.tsx#AtiTab"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:ati_AtiTab,title:"ATI/ATI Tab"};var AtiTab_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(ati_AtiTab,Object.assign({},args))};AtiTab_stories_Template.displayName="Template";var AtiTab_stories_args={user:{dataverse:{name:"User name @ QDR",link:"test.com"},hypothesis:{name:"User name @ Hypothes.is",link:"test.com"}},dataset:{id:"dataset-id",doi:"doi",title:"Dataset",description:"Description",subjects:["Subject"],publicationStatuses:["Draft"],citationHtml:"Citation HTML"}},AtiSummary=AtiTab_stories_Template.bind({});AtiSummary.args=Object.assign({},AtiTab_stories_args,{selectedTab:"summary",children:Object(jsx_runtime.jsx)("div",{children:"ATI Summary tab"})});var AtiManuscript=AtiTab_stories_Template.bind({});AtiManuscript.args=Object.assign({},AtiTab_stories_args,{selectedTab:"manuscript",children:Object(jsx_runtime.jsx)("div",{children:"ATI Manuscript tab"})});var AtiExportAnnotations=AtiTab_stories_Template.bind({});AtiExportAnnotations.args=Object.assign({},AtiTab_stories_args,{selectedTab:"exportAnnotations",children:Object(jsx_runtime.jsx)("div",{children:"ATI Export Annotations tab"})});var AtiSettings=AtiTab_stories_Template.bind({});AtiSettings.args=Object.assign({},AtiTab_stories_args,{selectedTab:"settings",children:Object(jsx_runtime.jsx)("div",{children:"ATI Settings tab"})}),AtiSummary.parameters=Object.assign({storySource:{source:"(args) => <AtiTab {...args} />"}},AtiSummary.parameters),AtiManuscript.parameters=Object.assign({storySource:{source:"(args) => <AtiTab {...args} />"}},AtiManuscript.parameters),AtiExportAnnotations.parameters=Object.assign({storySource:{source:"(args) => <AtiTab {...args} />"}},AtiExportAnnotations.parameters),AtiSettings.parameters=Object.assign({storySource:{source:"(args) => <AtiTab {...args} />"}},AtiSettings.parameters)},1374:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default})),__webpack_require__.d(__webpack_exports__,"Valid",(function(){return Valid})),__webpack_require__.d(__webpack_exports__,"Invalid",(function(){return Invalid}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),bucket_15=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(1386)),Form=__webpack_require__(1400),TextInput=__webpack_require__(1416),Link=__webpack_require__(1379),Button=__webpack_require__(221),Form_module=__webpack_require__(41),Form_module_default=__webpack_require__.n(Form_module),jsx_runtime=__webpack_require__(3),LoginForm_LoginForm=(react_default.a.createElement,function LoginForm(_ref){var dataverseServerUrl=_ref.dataverseServerUrl,dataverseApiToken=_ref.dataverseApiToken,dataverseApiTokenIsInvalid=_ref.dataverseApiTokenIsInvalid,dataverseApiTokenInvalidText=_ref.dataverseApiTokenInvalidText,hypothesisApiToken=_ref.hypothesisApiToken,hypothesisApiTokenIsInvalid=_ref.hypothesisApiTokenIsInvalid,hypothesisApiTokenInvalidText=_ref.hypothesisApiTokenInvalidText,handleDataverseApiTokenChange=_ref.handleDataverseApiTokenChange,handleHypothesisApiTokenChange=_ref.handleHypothesisApiTokenChange,handleLogin=_ref.handleLogin;return Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.container,children:Object(jsx_runtime.jsxs)(Form.a,{onSubmit:function onSubmit(event){event.preventDefault(),handleLogin()},children:[Object(jsx_runtime.jsx)("h1",{className:Form_module_default.a.title,children:"Login"}),Object(jsx_runtime.jsxs)("p",{className:Form_module_default.a.desc,children:["Give AnnoREP permissions to access your ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," resources and write Hypothes.is annotations on your behalf by providing your Application Programming Interface (",Object(jsx_runtime.jsx)("abbr",{children:"API"}),") tokens. Don't have an ",Object(jsx_runtime.jsx)("abbr",{children:"API"})," token? Use the links below to generate an ",Object(jsx_runtime.jsx)("abbr",{children:"API"})," token."]}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(TextInput.a,{id:"dataverse-api-token",name:"dataverseApiToken",labelText:Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," ",Object(jsx_runtime.jsx)("abbr",{children:"API"})," token"]}),helperText:Object(jsx_runtime.jsxs)("div",{children:["Get your"," ",Object(jsx_runtime.jsx)(Link.a,{size:"sm",href:dataverseServerUrl+"/dataverseuser.xhtml?selectTab=apiTokenTab",target:"_blank",rel:"noopener noreferrer",children:Object(jsx_runtime.jsxs)("span",{children:[Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," ",Object(jsx_runtime.jsx)("abbr",{children:"API"})," token"]})})]}),invalid:dataverseApiTokenIsInvalid,invalidText:dataverseApiTokenInvalidText,required:!0,"aria-required":!0,placeholder:"Enter your QDR API token",size:"xl",type:"text",autoComplete:"on",value:dataverseApiToken,onChange:function onDataverseApiTokenChange(event){return handleDataverseApiTokenChange(event.target.value)}})}),Object(jsx_runtime.jsx)("div",{className:Form_module_default.a.item,children:Object(jsx_runtime.jsx)(TextInput.a,{id:"hypothesis-api-token",name:"hypothesisApiToken",labelText:Object(jsx_runtime.jsxs)("div",{children:["Hypothes.is ",Object(jsx_runtime.jsx)("abbr",{children:"API"})," token"]}),helperText:Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsx)(Link.a,{size:"sm",href:"https://hypothes.is/login",target:"_blank",rel:"noopener noreferrer",children:"Login to Hypothes.is"}),", ","then get your"," ",Object(jsx_runtime.jsx)(Link.a,{size:"sm",href:"https://hypothes.is/account/developer",target:"_blank",rel:"noopener noreferrer",children:Object(jsx_runtime.jsxs)("span",{children:["Hypothes.is ",Object(jsx_runtime.jsx)("abbr",{children:"API"})," token"]})})]}),invalid:hypothesisApiTokenIsInvalid,invalidText:hypothesisApiTokenInvalidText,required:!0,"aria-required":!0,placeholder:"Enter your Hypothes.is API token",size:"xl",type:"text",autoComplete:"on",value:hypothesisApiToken,onChange:function onHypothesisApiTokenChange(event){return handleHypothesisApiTokenChange(event.target.value)}})}),Object(jsx_runtime.jsx)(Button.a,{className:Form_module_default.a.submitBtn,type:"submit",renderIcon:bucket_15.a,children:"Login"})]})})});LoginForm_LoginForm.displayName="LoginForm";var auth_LoginForm=LoginForm_LoginForm;try{LoginForm_LoginForm.displayName="LoginForm",LoginForm_LoginForm.__docgenInfo={description:"Login Form",displayName:"LoginForm",props:{dataverseServerUrl:{defaultValue:null,description:"The dataverse server url",name:"dataverseServerUrl",required:!0,type:{name:"string"}},dataverseApiToken:{defaultValue:null,description:"The dataverse api token",name:"dataverseApiToken",required:!0,type:{name:"string"}},dataverseApiTokenIsInvalid:{defaultValue:null,description:"Is the dataverse api token valid?",name:"dataverseApiTokenIsInvalid",required:!0,type:{name:"boolean"}},dataverseApiTokenInvalidText:{defaultValue:null,description:"The error mesage for the dataverse api token input",name:"dataverseApiTokenInvalidText",required:!0,type:{name:"string"}},handleDataverseApiTokenChange:{defaultValue:null,description:"Callback to handle the dataverse api token input changes",name:"handleDataverseApiTokenChange",required:!0,type:{name:"(value: string) => void"}},hypothesisApiToken:{defaultValue:null,description:"The hypothesis api token",name:"hypothesisApiToken",required:!0,type:{name:"string"}},hypothesisApiTokenIsInvalid:{defaultValue:null,description:"Is the hypothesis api token valid?",name:"hypothesisApiTokenIsInvalid",required:!0,type:{name:"boolean"}},hypothesisApiTokenInvalidText:{defaultValue:null,description:"The error message for the hypothesis api token input",name:"hypothesisApiTokenInvalidText",required:!0,type:{name:"string"}},handleHypothesisApiTokenChange:{defaultValue:null,description:"Callback to handle the hypothesis api token input changes",name:"handleHypothesisApiTokenChange",required:!0,type:{name:"(value: string) => void"}},handleLogin:{defaultValue:null,description:"Callback to handle login",name:"handleLogin",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/auth/LoginForm/index.tsx#LoginForm"]={docgenInfo:LoginForm_LoginForm.__docgenInfo,name:"LoginForm",path:"features/auth/LoginForm/index.tsx#LoginForm"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:auth_LoginForm,title:"Auth/Login Form"};var LoginForm_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(auth_LoginForm,Object.assign({},args))};LoginForm_stories_Template.displayName="Template";var Default=LoginForm_stories_Template.bind({});Default.args={dataverseServerUrl:"https://dv.dev-aws.qdr.org"};var Valid=LoginForm_stories_Template.bind({});Valid.args={dataverseServerUrl:"https://dv.dev-aws.qdr.org",dataverseApiToken:"123",dataverseApiTokenIsInvalid:!1,hypothesisApiToken:"123",hypothesisApiTokenIsInvalid:!1};var Invalid=LoginForm_stories_Template.bind({});Invalid.args={dataverseServerUrl:"https://dv.dev-aws.qdr.org",dataverseApiToken:"123",dataverseApiTokenIsInvalid:!0,dataverseApiTokenInvalidText:"A valid QDR API token is required.",hypothesisApiToken:"123",hypothesisApiTokenIsInvalid:!0,hypothesisApiTokenInvalidText:"A valid Hypothes.is API token is required."},Default.parameters=Object.assign({storySource:{source:"(args) => <LoginForm {...args} />"}},Default.parameters),Valid.parameters=Object.assign({storySource:{source:"(args) => <LoginForm {...args} />"}},Valid.parameters),Invalid.parameters=Object.assign({storySource:{source:"(args) => <LoginForm {...args} />"}},Invalid.parameters)},1375:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),bucket_14=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(1385)),Link=__webpack_require__(1379),AppDesc=__webpack_require__(267),AppGuide_module=__webpack_require__(220),AppGuide_module_default=__webpack_require__.n(AppGuide_module),jsx_runtime=__webpack_require__(3),AppGuide_AppGuide=(react_default.a.createElement,function AppGuide(_ref){var isLoggedIn=_ref.isLoggedIn;return Object(jsx_runtime.jsxs)("div",{className:AppGuide_module_default.a.container,children:[Object(jsx_runtime.jsx)(AppDesc.a,{isLoggedIn:isLoggedIn}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("br",{}),Object(jsx_runtime.jsx)("h1",{id:"get-started",className:AppGuide_module_default.a.heading,children:"Get started"}),Object(jsx_runtime.jsxs)("div",{className:AppGuide_module_default.a.guide,children:[Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("h2",{children:["1. Create accounts for Hypothes.is and ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})]}),Object(jsx_runtime.jsxs)("div",{className:AppGuide_module_default.a.logos,children:[Object(jsx_runtime.jsx)("img",{src:"./assets/hypothesis.png",alt:""}),Object(jsx_runtime.jsx)("img",{src:"./assets/qdr-sketch.png",alt:""})]})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("h2",{children:["2. Annotate your manuscript with Word comments or ",Object(jsx_runtime.jsx)("abbr",{children:"PDF"})," annotations"]}),Object(jsx_runtime.jsx)("img",{src:"./assets/manuscript.png",alt:""})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("h2",{children:["3. Login to AnnoREP with your ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," and Hypothes.is information"]}),Object(jsx_runtime.jsx)("img",{src:"./assets/login.png",alt:""})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("h2",{children:["4. Upload your annotated manuscript to convert it to ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," & connect it to a ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})," data project"]}),Object(jsx_runtime.jsx)("img",{src:"./assets/upload.png",alt:""})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("h2",{children:["5. Add, edit, or remove ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," annotations"]}),Object(jsx_runtime.jsx)("img",{src:"./assets/edit-annotations.png",alt:""}),Object(jsx_runtime.jsx)(Link.a,{size:"lg",href:"https://web.hypothes.is/help/annotation-basics",target:"_blank",rel:"noopener noreferrer",renderIcon:bucket_14.a,children:"Hypothes.is annotation basics"})]}),Object(jsx_runtime.jsxs)("div",{children:[Object(jsx_runtime.jsxs)("h2",{children:["6 a. Submit your project for review & publication by ",Object(jsx_runtime.jsx)("abbr",{children:"QDR"})]}),Object(jsx_runtime.jsx)("img",{src:"./assets/submit.png",alt:""})]}),Object(jsx_runtime.jsxs)("div",{className:AppGuide_module_default.a.copyAnnotations,children:[Object(jsx_runtime.jsxs)("h2",{children:["6 b. Copy your ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," annotations to a copy of your manuscript anywhere on the web"]}),Object(jsx_runtime.jsx)("img",{src:"./assets/copy-annotations.png",alt:""})]})]})]})});AppGuide_AppGuide.displayName="AppGuide";var components_AppGuide=AppGuide_AppGuide;try{AppGuide_AppGuide.displayName="AppGuide",AppGuide_AppGuide.__docgenInfo={description:"",displayName:"AppGuide",props:{isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/components/AppGuide/index.tsx#AppGuide"]={docgenInfo:AppGuide_AppGuide.__docgenInfo,name:"AppGuide",path:"features/components/AppGuide/index.tsx#AppGuide"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:components_AppGuide,title:"Getting Started/App Guide"};var AppGuide_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(components_AppGuide,Object.assign({},args))};AppGuide_stories_Template.displayName="Template";var Default=AppGuide_stories_Template.bind({});Default.args={},Default.parameters=Object.assign({storySource:{source:"(args) => <AppGuide {...args} />"}},Default.parameters)},1376:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),next_link=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(329)),link_default=__webpack_require__.n(next_link),bucket_0=__webpack_require__(1414),Button=__webpack_require__(221),HomePageTitle_module=__webpack_require__(702),HomePageTitle_module_default=__webpack_require__.n(HomePageTitle_module),jsx_runtime=__webpack_require__(3),HomePageTitle_HomePageTitle=(react_default.a.createElement,function HomePageTitle(){return Object(jsx_runtime.jsxs)("div",{className:HomePageTitle_module_default.a.titleContainer,children:[Object(jsx_runtime.jsxs)("h1",{children:[Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," Projects"]}),Object(jsx_runtime.jsx)(link_default.a,{href:"/new",children:Object(jsx_runtime.jsx)(Button.a,{as:"a",href:"/new",kind:"primary",size:"md",renderIcon:bucket_0.a,children:Object(jsx_runtime.jsxs)("span",{children:["New ",Object(jsx_runtime.jsx)("abbr",{children:"ATI"})," Project"]})})})]})});HomePageTitle_HomePageTitle.displayName="HomePageTitle";var components_HomePageTitle=HomePageTitle_HomePageTitle;try{HomePageTitle_HomePageTitle.displayName="HomePageTitle",HomePageTitle_HomePageTitle.__docgenInfo={description:"The home page title when the user is logged in",displayName:"HomePageTitle",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/components/HomePageTitle/index.tsx#HomePageTitle"]={docgenInfo:HomePageTitle_HomePageTitle.__docgenInfo,name:"HomePageTitle",path:"features/components/HomePageTitle/index.tsx#HomePageTitle"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:components_HomePageTitle,title:"Component/Home Page Title"};var HomePageTitle_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(components_HomePageTitle,Object.assign({},args))};HomePageTitle_stories_Template.displayName="Template";var Default=HomePageTitle_stories_Template.bind({});Default.parameters=Object.assign({storySource:{source:"(args) => <HomePageTitle {...args} />"}},Default.parameters)},1377:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Default",(function(){return Default}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),Button=(__webpack_require__(12),__webpack_require__(62),__webpack_require__(221)),Layout=__webpack_require__(330),ErrorContainer_module=__webpack_require__(340),ErrorContainer_module_default=__webpack_require__.n(ErrorContainer_module),jsx_runtime=__webpack_require__(3),ErrorContainer_ErrorContainer=(react_default.a.createElement,function ErrorContainer(_ref){var error=_ref.error;return Object(jsx_runtime.jsx)(Layout.a,{user:null,title:error,children:Object(jsx_runtime.jsxs)("div",{className:ErrorContainer_module_default.a.container,children:[Object(jsx_runtime.jsxs)("div",{className:ErrorContainer_module_default.a.title,children:[Object(jsx_runtime.jsx)("h1",{children:"Something went wrong!"}),Object(jsx_runtime.jsx)("p",{children:"The page you requested cannot be displayed. "+error})]}),Object(jsx_runtime.jsx)("div",{children:Object(jsx_runtime.jsx)(Button.a,{className:ErrorContainer_module_default.a.button,as:"a",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/QualitativeDataRepository/AnnoREP-Frontend/issues/new?assignees=&labels=&template=bug_report.md&title=",kind:"tertiary",children:"Report the issue"})})]})})});ErrorContainer_ErrorContainer.displayName="ErrorContainer";var error_ErrorContainer=ErrorContainer_ErrorContainer;try{ErrorContainer_ErrorContainer.displayName="ErrorContainer",ErrorContainer_ErrorContainer.__docgenInfo={description:"",displayName:"ErrorContainer",props:{error:{defaultValue:null,description:"The error message",name:"error",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/error/ErrorContainer/index.tsx#ErrorContainer"]={docgenInfo:ErrorContainer_ErrorContainer.__docgenInfo,name:"ErrorContainer",path:"features/error/ErrorContainer/index.tsx#ErrorContainer"})}catch(__react_docgen_typescript_loader_error){}react_default.a.createElement,__webpack_exports__.default={component:error_ErrorContainer,title:"Error/Error Container"};var ErrorContainer_stories_Template=function Template(args){return Object(jsx_runtime.jsx)(error_ErrorContainer,Object.assign({},args))};ErrorContainer_stories_Template.displayName="Template";var Default=ErrorContainer_stories_Template.bind({});Default.args={error:"Error message"},Default.parameters=Object.assign({storySource:{source:"(args) => <ErrorContainer {...args} />"}},Default.parameters)},153:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1348);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},184:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return TaskActionType})),__webpack_require__.d(__webpack_exports__,"b",(function(){return taskReducer}));var TaskActionType;__webpack_require__(12);function taskReducer(state,action){switch(action.type){case TaskActionType.START:return Object.assign({},state,{status:"active",desc:action.payload});case TaskActionType.FINISH:return Object.assign({},state,{status:"finished",desc:action.payload});case TaskActionType.FAIL:return Object.assign({},state,{status:"error",desc:action.payload});case TaskActionType.NEXT_STEP:return Object.assign({},state,{desc:action.payload});case TaskActionType.RESET:return Object.assign({},state,{status:"inactive",desc:""});default:return state}}!function(TaskActionType){TaskActionType.START="START",TaskActionType.FINISH="FINISH",TaskActionType.FAIL="FAIL",TaskActionType.NEXT_STEP="NEXT_STEP",TaskActionType.RESET="RESET"}(TaskActionType||(TaskActionType={}))},185:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);__webpack_exports__.a=function useBoolean(initialValue){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialValue),value=_useState[0],setValue=_useState[1];return[value,{setTrue:function setTrue(){return setValue(!0)},setFalse:function setFalse(){return setValue(!1)},toggle:function toggle(){return setValue((function(currentValue){return!currentValue}))}}]}},187:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return range}));__webpack_require__(36),__webpack_require__(19);var range=function range(start,stop,step){return Array.from({length:(stop-start)/step+1},(function(_,i){return start+i*step}))}},188:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1324);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},21:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return useTask_state.a})),__webpack_require__.d(__webpack_exports__,"c",(function(){return getTaskNotificationKind})),__webpack_require__.d(__webpack_exports__,"d",(function(){return getTaskStatus})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useTask}));var react=__webpack_require__(0),useTask_state=__webpack_require__(184);function getTaskStatus(state){var status=state.status;return"active"===status?"Status":"finished"===status?"Success!":"Error!"}function getTaskNotificationKind(state){var status=state.status;return"active"===status?"info":"finished"===status?"success":"error"}function useTask(initialTaskState){var _useReducer=Object(react.useReducer)(useTask_state.b,initialTaskState);return{state:_useReducer[0],dispatch:_useReducer[1]}}},217:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1242);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},218:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1263);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},219:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1328);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},220:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1355);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},258:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),carbon_components_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(92),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),DeleteAnnotations=(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement,function DeleteAnnotations(_ref){var manuscriptName=_ref.manuscriptName,open=_ref.open,closeModal=_ref.closeModal,handleDeleteAnnotations=_ref.handleDeleteAnnotations;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.d,{open:open,onClose:closeModal,size:"xs","aria-label":"Delete annotations confirmation",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.c,{id:"delete-annotations-modal-header",title:"Delete annotations from "+manuscriptName,iconDescription:"Close"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.a,{id:"delete-annotations-modal-body",children:"Are you sure you want to delete annotations from this manuscript?"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.b,{id:"delete-annotations-modal-footer",danger:!0,primaryButtonText:"Continue",secondaryButtonText:"Cancel",onRequestSubmit:function onRequestSubmit(){return handleDeleteAnnotations()}})]})});DeleteAnnotations.displayName="DeleteAnnotations",__webpack_exports__.a=DeleteAnnotations;try{DeleteAnnotationsModal.displayName="DeleteAnnotationsModal",DeleteAnnotationsModal.__docgenInfo={description:"",displayName:"DeleteAnnotationsModal",props:{manuscriptName:{defaultValue:null,description:"The manuscript name",name:"manuscriptName",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"Is the modal open?",name:"open",required:!0,type:{name:"boolean"}},closeModal:{defaultValue:null,description:"Callback to close the modal",name:"closeModal",required:!0,type:{name:"() => void"}},handleDeleteAnnotations:{defaultValue:null,description:"Callback to delete the annotations",name:"handleDeleteAnnotations",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiExportAnnotations/DeleteAnnotationsModal/index.tsx#DeleteAnnotationsModal"]={docgenInfo:DeleteAnnotationsModal.__docgenInfo,name:"DeleteAnnotationsModal",path:"features/ati/AtiExportAnnotations/DeleteAnnotationsModal/index.tsx#DeleteAnnotationsModal"})}catch(__react_docgen_typescript_loader_error){}},260:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),carbon_components_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(92),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),DeleteManuscriptModal=(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement,function DeleteManuscriptModal(_ref){var manuscriptName=_ref.manuscriptName,open=_ref.open,closeModal=_ref.closeModal,handleDeleteManuscript=_ref.handleDeleteManuscript;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.d,{open:open,onClose:closeModal,size:"xs","aria-label":"Delete manuscript confirmation",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.c,{id:"delete-manuscript-modal-header",title:"Delete "+manuscriptName,iconDescription:"Close"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.a,{id:"delete-manuscript-modal-body",children:"Are you sure you want to delete this manuscript?"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.b,{id:"delete-manuscript-modal-footer",danger:!0,primaryButtonText:"Continue",secondaryButtonText:"Cancel",onRequestSubmit:function onRequestSubmit(){return handleDeleteManuscript()}})]})});DeleteManuscriptModal.displayName="DeleteManuscriptModal",__webpack_exports__.a=DeleteManuscriptModal;try{DeleteManuscriptModal.displayName="DeleteManuscriptModal",DeleteManuscriptModal.__docgenInfo={description:"",displayName:"DeleteManuscriptModal",props:{manuscriptName:{defaultValue:null,description:"The manuscript name",name:"manuscriptName",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"Is the modal open?",name:"open",required:!0,type:{name:"boolean"}},closeModal:{defaultValue:null,description:"Callback to close the modal",name:"closeModal",required:!0,type:{name:"() => void"}},handleDeleteManuscript:{defaultValue:null,description:"Callback to delete the manuscript",name:"handleDeleteManuscript",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiManuscript/DeleteManuscriptModal/index.tsx#DeleteManuscriptModal"]={docgenInfo:DeleteManuscriptModal.__docgenInfo,name:"DeleteManuscriptModal",path:"features/ati/AtiManuscript/DeleteManuscriptModal/index.tsx#DeleteManuscriptModal"})}catch(__react_docgen_typescript_loader_error){}},261:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),carbon_components_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(36),__webpack_require__(19),__webpack_require__(445)),isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(326),isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_4__),react_pdf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(270),react_sizeme__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(697),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;react_pdf__WEBPACK_IMPORTED_MODULE_5__.c.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/"+react_pdf__WEBPACK_IMPORTED_MODULE_5__.c.version+"/pdf.worker.js";var IngestPdf=function IngestPdf(_ref){var pdf=_ref.pdf,_useState=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),numPages=_useState[0],setNumPages=_useState[1],onDocumentLoadSuccess=function onDocumentLoadSuccess(_ref2){var numPages=_ref2.numPages,hClientConfig=document.createElement("script");hClientConfig.type="application/json",hClientConfig.className="js-hypothesis-config",hClientConfig.innerHTML=isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_4___default.a.sanitize(JSON.stringify({openSidebar:!0}));var hClient=document.createElement("script");hClient.src="https://hypothes.is/embed.js",hClient.async=!0,document.head.appendChild(hClientConfig),document.head.appendChild(hClient),setNumPages(numPages)};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_sizeme__WEBPACK_IMPORTED_MODULE_6__.SizeMe,{children:function children(_ref3){var size=_ref3.size;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_pdf__WEBPACK_IMPORTED_MODULE_5__.a,{file:"data:application/pdf;base64,"+pdf,onLoadSuccess:onDocumentLoadSuccess,loading:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_3__.a,{hideCloseButton:!0,lowContrast:!0,kind:"info",subtitle:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)("span",{children:"Loading manuscript..."}),title:"Status"}),children:Array.from({length:numPages},(function(_,index){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(react_pdf__WEBPACK_IMPORTED_MODULE_5__.b,{pageNumber:index+1,width:size.width,renderMode:"canvas",renderAnnotationLayer:!1,loading:""},"page_"+(index+1))}))})}})};IngestPdf.displayName="IngestPdf",__webpack_exports__.a=IngestPdf;try{IngestPdf.displayName="IngestPdf",IngestPdf.__docgenInfo={description:"",displayName:"IngestPdf",props:{pdf:{defaultValue:null,description:"The base64 string of the pdf",name:"pdf",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiManuscript/IngestPdf/index.tsx#IngestPdf"]={docgenInfo:IngestPdf.__docgenInfo,name:"IngestPdf",path:"features/ati/AtiManuscript/IngestPdf/index.tsx#IngestPdf"})}catch(__react_docgen_typescript_loader_error){}},262:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),carbon_components_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(92),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),UploadManuscriptModal=(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement,function UploadManuscriptModal(_ref){var manuscriptName=_ref.manuscriptName,uploadAnnotations=_ref.uploadAnnotations,open=_ref.open,closeModal=_ref.closeModal,handleUploadManuscript=_ref.handleUploadManuscript;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.d,{open:open,onClose:closeModal,size:"sm","aria-label":"Upload manuscript confirmation",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.c,{id:"upload-manuscript-modal-header",title:(uploadAnnotations?"Start with new":"Ignore")+" annotations from "+manuscriptName+"?",iconDescription:"Close"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.a,{id:"upload-manuscript-modal-body",children:uploadAnnotations?"All your current annotations will be deleted and replaced with the annotations found in "+manuscriptName+".":"No annotations from "+manuscriptName+" will be uploaded."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.b,{id:"upload-manuscript-modal-footer",primaryButtonText:"Continue",secondaryButtonText:"Cancel",onRequestSubmit:function onRequestSubmit(){return handleUploadManuscript()}})]})});UploadManuscriptModal.displayName="UploadManuscriptModal",__webpack_exports__.a=UploadManuscriptModal;try{UploadManuscriptModal.displayName="UploadManuscriptModal",UploadManuscriptModal.__docgenInfo={description:"",displayName:"UploadManuscriptModal",props:{manuscriptName:{defaultValue:null,description:"The manuscript name",name:"manuscriptName",required:!0,type:{name:"string"}},uploadAnnotations:{defaultValue:null,description:"Upload annotations from the user uploaded manuscript?",name:"uploadAnnotations",required:!0,type:{name:"boolean"}},open:{defaultValue:null,description:"Is the modal open?",name:"open",required:!0,type:{name:"boolean"}},closeModal:{defaultValue:null,description:"Callback to close the modal",name:"closeModal",required:!0,type:{name:"() => void"}},handleUploadManuscript:{defaultValue:null,description:"Callback to upload a manuscript",name:"handleUploadManuscript",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiManuscript/UploadManuscriptModal/index.tsx#UploadManuscriptModal"]={docgenInfo:UploadManuscriptModal.__docgenInfo,name:"UploadManuscriptModal",path:"features/ati/AtiManuscript/UploadManuscriptModal/index.tsx#UploadManuscriptModal"})}catch(__react_docgen_typescript_loader_error){}},263:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),carbon_components_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(445),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3);react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement;__webpack_exports__.a=function HypothesisLoginNotification(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),notificationIsVisible=_useState[0],setNotificationIsVisible=_useState[1];return Object(react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var isVisible=localStorage.getItem("hypotheis-login-notification-is-visible");null!==isVisible&&"true"!==isVisible||setNotificationIsVisible(!0)}),[]),notificationIsVisible?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.a,{hideCloseButton:!0,lowContrast:!0,kind:"warning-alt",statusIconDescription:"warning",title:"Log in to Hypothes.is in the Annotation sidebar to the right to see your annotations.",actions:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.b,{onClick:function onClickOK(){localStorage.setItem("hypotheis-login-notification-is-visible","false"),setNotificationIsVisible(!1)},children:"OK"})}):null};try{HypothesisLoginNotificaton.displayName="HypothesisLoginNotificaton",HypothesisLoginNotificaton.__docgenInfo={description:"",displayName:"HypothesisLoginNotificaton",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/auth/HypothesisLoginNotificaton/index.tsx#HypothesisLoginNotificaton"]={docgenInfo:HypothesisLoginNotificaton.__docgenInfo,name:"HypothesisLoginNotificaton",path:"features/auth/HypothesisLoginNotificaton/index.tsx#HypothesisLoginNotificaton"})}catch(__react_docgen_typescript_loader_error){}},264:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(9),__webpack_require__(8),__webpack_require__(15),__webpack_require__(26),__webpack_require__(666);var react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),carbon_components_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(706),carbon_components_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1379),next_link__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(329),next_link__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_8__),isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(326),isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_9__),_constants_ati__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(50),_constants_dataverse__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(127),_AtiProject_module_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(188),_AtiProject_module_css__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_AtiProject_module_css__WEBPACK_IMPORTED_MODULE_12__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3),AtiProject=(react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement,function AtiProject(_ref){var id=_ref.id,name=_ref.name,description=_ref.description,dataverseName=_ref.dataverseName,citationHtml=_ref.citationHtml,publicationStatuses=_ref.publicationStatuses,dateDisplay=_ref.dateDisplay,userRoles=_ref.userRoles,dataverseServerUrl=_ref.dataverseServerUrl,dataverse=_ref.dataverse;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("section",{"aria-label":name,className:_AtiProject_module_css__WEBPACK_IMPORTED_MODULE_12___default.a.atiProject,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:_AtiProject_module_css__WEBPACK_IMPORTED_MODULE_12___default.a.titleContainer,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("h2",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_8___default.a,{href:"/ati/"+id+"/"+_constants_ati__WEBPACK_IMPORTED_MODULE_10__.b.summary.id,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("a",{className:"bx--link",href:"/ati/"+id+"/"+_constants_ati__WEBPACK_IMPORTED_MODULE_10__.b.summary.id,children:name})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{className:_AtiProject_module_css__WEBPACK_IMPORTED_MODULE_12___default.a.tags,children:[publicationStatuses.sort().map((function(status,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_6__.a,{id:status+" status",type:_constants_dataverse__WEBPACK_IMPORTED_MODULE_11__.b[status],size:"sm",children:status},i)})),userRoles.sort().map((function(role,i){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_6__.a,{id:role+" role",type:"teal",size:"sm",children:role},i)}))]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("p",{children:[dateDisplay," -"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_7__.a,{target:"_blank",rel:"noopener noreferrer",href:dataverseServerUrl+"/dataverse/"+dataverse,children:dataverseName})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("p",{className:_AtiProject_module_css__WEBPACK_IMPORTED_MODULE_12___default.a.citation,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("span",{dangerouslySetInnerHTML:{__html:isomorphic_dompurify__WEBPACK_IMPORTED_MODULE_9___default.a.sanitize(citationHtml)}})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("p",{children:description})]})});AtiProject.displayName="AtiProject",__webpack_exports__.a=AtiProject;try{AtiProject.displayName="AtiProject",AtiProject.__docgenInfo={description:"A summary view of an ati project",displayName:"AtiProject",props:{id:{defaultValue:null,description:"The id of the dataset for the ati project",name:"id",required:!0,type:{name:"string"}},name:{defaultValue:null,description:"The name of the dataset for the ati project",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"The description of the dataset for the ati project",name:"description",required:!0,type:{name:"string"}},dataverseName:{defaultValue:null,description:"The dataverse where the dataset for the ati project is deposited",name:"dataverseName",required:!0,type:{name:"string"}},citationHtml:{defaultValue:null,description:"The citation string of the dataset for the ati project",name:"citationHtml",required:!0,type:{name:"string"}},publicationStatuses:{defaultValue:null,description:"The publication statuses of the dataset for the ati project",name:"publicationStatuses",required:!0,type:{name:"string[]"}},dateDisplay:{defaultValue:null,description:"When the dataset for the ati project was created",name:"dateDisplay",required:!0,type:{name:"string"}},userRoles:{defaultValue:null,description:"The user roles of the dataset for the ati project",name:"userRoles",required:!0,type:{name:"string[]"}},dataverseServerUrl:{defaultValue:null,description:"The dataverse server url where the dataset for the ati project is deposited",name:"dataverseServerUrl",required:!0,type:{name:"string"}},dataverse:{defaultValue:null,description:"The dataverse id where the dataset for the ati project is deposited",name:"dataverse",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiProject/index.tsx#AtiProject"]={docgenInfo:AtiProject.__docgenInfo,name:"AtiProject",path:"features/ati/AtiProject/index.tsx#AtiProject"})}catch(__react_docgen_typescript_loader_error){}},265:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),carbon_components_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(92),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3),DeleteAtiModal=(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement,function DeleteAtiModal(_ref){var atiName=_ref.atiName,open=_ref.open,closeModal=_ref.closeModal,handleDeleteAti=_ref.handleDeleteAti;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.d,{open:open,onClose:closeModal,size:"xs","aria-label":"Delete ATI project confirmation",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.c,{id:"delete-ati-modal-header",title:"Delete "+atiName,iconDescription:"Close"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.a,{id:"delete-ati-modal-body",children:"Are you sure you want to delete this project?"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.b,{id:"delete-ati-modal-footer",danger:!0,primaryButtonText:"Continue",secondaryButtonText:"Cancel",onRequestSubmit:function onRequestSubmit(){return handleDeleteAti()}})]})});DeleteAtiModal.displayName="DeleteAtiModal",__webpack_exports__.a=DeleteAtiModal;try{DeleteAtiModal.displayName="DeleteAtiModal",DeleteAtiModal.__docgenInfo={description:"",displayName:"DeleteAtiModal",props:{atiName:{defaultValue:null,description:"The ati project name",name:"atiName",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"Is the modal open?",name:"open",required:!0,type:{name:"boolean"}},closeModal:{defaultValue:null,description:"Callback to close the modal",name:"closeModal",required:!0,type:{name:"() => void"}},handleDeleteAti:{defaultValue:null,description:"Callback to delete the ati project",name:"handleDeleteAti",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiSettings/DeleteAtiModal/index.tsx#DeleteAtiModal"]={docgenInfo:DeleteAtiModal.__docgenInfo,name:"DeleteAtiModal",path:"features/ati/AtiSettings/DeleteAtiModal/index.tsx#DeleteAtiModal"})}catch(__react_docgen_typescript_loader_error){}},266:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_carbon_icons_react__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(9),__webpack_require__(1333),__webpack_require__(1381)),_carbon_icons_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1382),_carbon_icons_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1386),carbon_components_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(221),carbon_components_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1388),carbon_components_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(444),next_auth_client__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(699),_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(153),_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(3),AppBar=(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement,function AppBar(_ref){var user=_ref.user;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("div",{className:_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default.a.container,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)("header",{className:_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default.a.header,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(carbon_components_react__WEBPACK_IMPORTED_MODULE_6__.a,{className:_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default.a.logo,size:"md",kind:"ghost",as:"a",href:"/",children:["Anno",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)("abbr",{children:"REP"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)("div",{className:_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default.a.actions,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_6__.a,{className:_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default.a.actionButton,hasIconOnly:!0,tooltipPosition:"bottom",tooltipAlignment:"center",iconDescription:"Guide",size:"lg",kind:"ghost",as:"a",href:"/guide",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_carbon_icons_react__WEBPACK_IMPORTED_MODULE_3__.a,{})}),user?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsxs)(carbon_components_react__WEBPACK_IMPORTED_MODULE_7__.a,{flipped:!0,renderIcon:_carbon_icons_react__WEBPACK_IMPORTED_MODULE_4__.b,size:"lg",className:_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default.a.user,iconDescription:"",menuOptionsClass:_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default.a.menuOptions,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_8__.a,{requireTitle:!0,itemText:user.dataverse.name,href:user.dataverse.link,target:"_blank",rel:"noopener noreferrer"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_8__.a,{requireTitle:!0,itemText:user.hypothesis.name,href:user.hypothesis.link,target:"_blank",rel:"noopener noreferrer"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_8__.a,{itemText:"Log out",hasDivider:!0,onClick:function handleLogout(){return Object(next_auth_client__WEBPACK_IMPORTED_MODULE_9__.signOut)({redirect:!0,callbackUrl:"/"})}})]}):Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_6__.a,{className:_AppBar_module_css__WEBPACK_IMPORTED_MODULE_10___default.a.actionButton,hasIconOnly:!0,tooltipPosition:"bottom",tooltipAlignment:"end",iconDescription:"Login",size:"lg",kind:"ghost",as:"a",href:"/auth/login",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__.jsx)(_carbon_icons_react__WEBPACK_IMPORTED_MODULE_5__.b,{})})]})]})})});AppBar.displayName="AppBar",__webpack_exports__.a=AppBar;try{AppBar.displayName="AppBar",AppBar.__docgenInfo={description:"",displayName:"AppBar",props:{user:{defaultValue:null,description:"Is the user logged in?",name:"user",required:!0,type:{name:"IAnnoRepUser | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/components/AppBar/index.tsx#AppBar"]={docgenInfo:AppBar.__docgenInfo,name:"AppBar",path:"features/components/AppBar/index.tsx#AppBar"})}catch(__react_docgen_typescript_loader_error){}},267:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_carbon_icons_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1385),_carbon_icons_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1387),carbon_components_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(221),_AppDesc_module_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(339),_AppDesc_module_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_AppDesc_module_css__WEBPACK_IMPORTED_MODULE_4__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),AppDesc=(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement,function AppDesc(_ref){var isLoggedIn=_ref.isLoggedIn;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:_AppDesc_module_css__WEBPACK_IMPORTED_MODULE_4___default.a.container,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("p",{className:_AppDesc_module_css__WEBPACK_IMPORTED_MODULE_4___default.a.leadspaceText,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("strong",{children:"AnnoREP"})," is an open-source, web-based tool that will help facilitate Annotation for Transparent Inquiry (",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)("abbr",{children:"ATI"}),") and other annotation-based workflows."]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)("div",{className:_AppDesc_module_css__WEBPACK_IMPORTED_MODULE_4___default.a.buttonContainer,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_3__.a,{as:"a",href:"https://qdr.syr.edu/ati",target:"_blank",rel:"noopener noreferrer",kind:"tertiary",renderIcon:_carbon_icons_react__WEBPACK_IMPORTED_MODULE_1__.a,children:"Learn more about ATI"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(carbon_components_react__WEBPACK_IMPORTED_MODULE_3__.a,{as:"a",href:isLoggedIn?"/new":"/auth/login",kind:"primary",renderIcon:_carbon_icons_react__WEBPACK_IMPORTED_MODULE_2__.a,children:isLoggedIn?"Create a new ATI project":"Login to create a new ATI project"})]})]})});AppDesc.displayName="AppDesc",__webpack_exports__.a=AppDesc;try{AppDesc.displayName="AppDesc",AppDesc.__docgenInfo={description:"A brief summary of the app for when the user is not logged in",displayName:"AppDesc",props:{isLoggedIn:{defaultValue:null,description:"",name:"isLoggedIn",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/components/AppDesc/index.tsx#AppDesc"]={docgenInfo:AppDesc.__docgenInfo,name:"AppDesc",path:"features/components/AppDesc/index.tsx#AppDesc"})}catch(__react_docgen_typescript_loader_error){}},268:function(module,__webpack_exports__,__webpack_require__){"use strict";var regenerator=__webpack_require__(11),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(29),react=(__webpack_require__(54),__webpack_require__(13),__webpack_require__(1261),__webpack_require__(26),__webpack_require__(9),__webpack_require__(0)),react_default=__webpack_require__.n(react),axios=__webpack_require__(186),axios_default=__webpack_require__.n(axios),bucket_20=__webpack_require__(1405),ComposedModal=__webpack_require__(92),Link=__webpack_require__(1379),InlineLoading=__webpack_require__(1404),Button=__webpack_require__(221),Notification=__webpack_require__(445),CopyButton=__webpack_require__(1419),lib=__webpack_require__(322),lib_default=__webpack_require__.n(lib),useTask=__webpack_require__(21),Datasource_module=__webpack_require__(696),Datasource_module_default=__webpack_require__.n(Datasource_module),jsx_runtime=__webpack_require__(3),Datasource_Datasource=(react_default.a.createElement,function Datasource(_ref){var name=_ref.name,ref=Object(react.useRef)(null),_useState=Object(react.useState)(!1),requireTitle=_useState[0],setRequireTitle=_useState[1];return Object(react.useEffect)((function(){if(ref.current){var element=ref.current;element.scrollWidth>element.clientWidth&&setRequireTitle(!0)}}),[]),Object(jsx_runtime.jsx)("p",{ref:ref,title:requireTitle?name:void 0,className:Datasource_module_default.a.datasource,children:name})});Datasource_Datasource.displayName="Datasource";var DatasourceModal_Datasource=Datasource_Datasource;try{Datasource_Datasource.displayName="Datasource",Datasource_Datasource.__docgenInfo={description:"",displayName:"Datasource",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiManuscript/DatasourceModal/Datasource.tsx#Datasource"]={docgenInfo:Datasource_Datasource.__docgenInfo,name:"Datasource",path:"features/ati/AtiManuscript/DatasourceModal/Datasource.tsx#Datasource"})}catch(__react_docgen_typescript_loader_error){}var httpRequestUtils=__webpack_require__(82),DatasourceModal_module=__webpack_require__(218),DatasourceModal_module_default=__webpack_require__.n(DatasourceModal_module),DatasourceModal_DatasourceModal=(react_default.a.createElement,function DatasourceModal(_ref){var datasetId=_ref.datasetId,open=_ref.open,datasources=_ref.datasources,serverUrl=_ref.serverUrl,datasetDoi=_ref.datasetDoi,closeModal=_ref.closeModal,_useTask=Object(useTask.b)({status:"inactive",desc:""}),taskState=_useTask.state,taskDispatch=_useTask.dispatch,_useState=Object(react.useState)(datasources),datasourcesState=_useState[0],setDatasourcesState=_useState[1],handleRefreshDatasources=function(){var _ref2=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return taskDispatch({type:useTask.a.START,payload:""}),_context.next=3,axios_default.a.get("/api/datasets/"+datasetId+"/data-files").then((function(_ref3){var data=_ref3.data;taskDispatch({type:useTask.a.FINISH,payload:""}),setTimeout((function(){return taskDispatch({type:useTask.a.RESET})}),2e3),setDatasourcesState(data)})).catch((function(error){console.warn(Object(httpRequestUtils.a)(error)),taskDispatch({type:useTask.a.FAIL,payload:""}),setTimeout((function(){return taskDispatch({type:useTask.a.RESET})}),3e3)}));case 3:case"end":return _context.stop()}}),_callee)})));return function handleRefreshDatasources(){return _ref2.apply(this,arguments)}}();return Object(jsx_runtime.jsxs)(ComposedModal.d,{className:DatasourceModal_module_default.a.datasourceModal,open:open,preventCloseOnClickOutside:!0,onClose:closeModal,children:[Object(jsx_runtime.jsx)(ComposedModal.c,{id:"datasources-modal-header",label:"Data sources",title:"Copy the data source URL and paste it into an annotation on the right",iconDescription:"Close"}),Object(jsx_runtime.jsxs)(ComposedModal.a,{id:"datasources-modal-body","aria-label":"Data source URLs",hasScrollingContent:!0,children:[Object(jsx_runtime.jsxs)("div",{className:DatasourceModal_module_default.a.twoColumns,"aria-live":"assertive",children:[Object(jsx_runtime.jsx)(Link.a,{href:serverUrl+"/dataset.xhtml?persistentId="+datasetDoi,target:"_blank",rel:"noopener noreferrer",size:"lg",disabled:"active"===taskState.status,children:"Add/remove associated data sources"}),"inactive"!==taskState.status?Object(jsx_runtime.jsx)(InlineLoading.a,{className:DatasourceModal_module_default.a.inlineLoading,status:taskState.status,description:taskState.desc}):Object(jsx_runtime.jsx)(Button.a,{hasIconOnly:!0,kind:"ghost",size:"md",iconDescription:"Refresh",tooltipPosition:"bottom",tooltipAlignment:"center",renderIcon:bucket_20.a,onClick:function onClick(){return handleRefreshDatasources()}})]}),0===datasourcesState.length&&Object(jsx_runtime.jsx)(Notification.a,{hideCloseButton:!0,lowContrast:!0,kind:"info",title:"This project has no data sources."}),Object(jsx_runtime.jsx)("div",{className:DatasourceModal_module_default.a.datasources+" "+DatasourceModal_module_default.a.twoColumns,"aria-live":"assertive","aria-relevant":"additions removals",children:datasourcesState.map((function(_ref4){var id=_ref4.id,name=_ref4.name,uri=_ref4.uri;return Object(jsx_runtime.jsxs)(react_default.a.Fragment,{children:[Object(jsx_runtime.jsx)(DatasourceModal_Datasource,{name:name}),Object(jsx_runtime.jsx)(lib_default.a,{text:uri,children:Object(jsx_runtime.jsx)(CopyButton.a,{feedback:"Copied!",feedbackTimeout:3e3,iconDescription:"Copy URL to clipboard"})},id)]},id)}))})]})]})});DatasourceModal_DatasourceModal.displayName="DatasourceModal";__webpack_exports__.a=DatasourceModal_DatasourceModal;try{DatasourceModal_DatasourceModal.displayName="DatasourceModal",DatasourceModal_DatasourceModal.__docgenInfo={description:"",displayName:"DatasourceModal",props:{datasetId:{defaultValue:null,description:"The id of the dataset",name:"datasetId",required:!0,type:{name:"string"}},open:{defaultValue:null,description:"Is the datasource modal open?",name:"open",required:!0,type:{name:"boolean"}},datasources:{defaultValue:null,description:"The list of datasources",name:"datasources",required:!0,type:{name:"IDatasource[]"}},serverUrl:{defaultValue:null,description:"The dataverse server url",name:"serverUrl",required:!0,type:{name:"string"}},datasetDoi:{defaultValue:null,description:"The dataset doi",name:"datasetDoi",required:!0,type:{name:"string"}},closeModal:{defaultValue:null,description:"Callback to close the modal",name:"closeModal",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/ati/AtiManuscript/DatasourceModal/index.tsx#DatasourceModal"]={docgenInfo:DatasourceModal_DatasourceModal.__docgenInfo,name:"DatasourceModal",path:"features/ati/AtiManuscript/DatasourceModal/index.tsx#DatasourceModal"})}catch(__react_docgen_typescript_loader_error){}},327:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return deleteFile}));var _features_app__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52),deleteFile=function deleteFile(fileId){return function(){return _features_app__WEBPACK_IMPORTED_MODULE_0__.a.delete("/api/delete-file/"+fileId)}}},328:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getMimeType}));var _home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(11),_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(29),_constants_arcore__WEBPACK_IMPORTED_MODULE_34__=(__webpack_require__(54),__webpack_require__(13),__webpack_require__(24),__webpack_require__(1282),__webpack_require__(1288),__webpack_require__(1290),__webpack_require__(1291),__webpack_require__(1292),__webpack_require__(1294),__webpack_require__(1295),__webpack_require__(1296),__webpack_require__(1297),__webpack_require__(1298),__webpack_require__(1299),__webpack_require__(1300),__webpack_require__(1301),__webpack_require__(1303),__webpack_require__(1304),__webpack_require__(1305),__webpack_require__(1306),__webpack_require__(1307),__webpack_require__(1308),__webpack_require__(1309),__webpack_require__(1310),__webpack_require__(1311),__webpack_require__(1312),__webpack_require__(1313),__webpack_require__(16),__webpack_require__(1314),__webpack_require__(121),__webpack_require__(1315),__webpack_require__(60),__webpack_require__(85)),getMimeType=function(){var _ref=Object(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function _callee(file){var firstFourBytes,firstFourBytesView,hex;return _home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!file.type){_context.next=2;break}return _context.abrupt("return",file.type);case 2:return _context.next=4,file.slice(0,4).arrayBuffer();case 4:if(firstFourBytes=_context.sent,firstFourBytesView=new Int8Array(firstFourBytes),(hex=getHex(firstFourBytesView))!==_constants_arcore__WEBPACK_IMPORTED_MODULE_34__.c.docx){_context.next=11;break}return _context.abrupt("return",_constants_arcore__WEBPACK_IMPORTED_MODULE_34__.b.docx);case 11:if(hex!==_constants_arcore__WEBPACK_IMPORTED_MODULE_34__.c.pdf){_context.next=15;break}return _context.abrupt("return",_constants_arcore__WEBPACK_IMPORTED_MODULE_34__.b.pdf);case 15:return _context.abrupt("return","unknown");case 16:case"end":return _context.stop()}}),_callee)})));return function getMimeType(_x){return _ref.apply(this,arguments)}}(),getHex=function getHex(view){for(var hex=[],i=0;i<view.length;i++)hex.push(view[i].toString(16));return hex.join("")}},330:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),next_head__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(698),next_head__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__),_AppBar__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(266),_Layout_module_css__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(130),_Layout_module_css__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_Layout_module_css__WEBPACK_IMPORTED_MODULE_3__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3),Layout=(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement,function Layout(_ref){var title=_ref.title,children=_ref.children,user=_ref.user,isFullWidth=_ref.isFullWidth;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(next_head__WEBPACK_IMPORTED_MODULE_1___default.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("title",{children:title}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("meta",{name:"description",content:"Restructure, Edit, and Publish annotations"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("meta",{charSet:"utf-8"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#5bbad5"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("meta",{name:"msapplication-TileColor",content:"#da532c"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("meta",{name:"theme-color",content:"#ffffff"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:_Layout_module_css__WEBPACK_IMPORTED_MODULE_3___default.a.container,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_AppBar__WEBPACK_IMPORTED_MODULE_2__.a,{user:user}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("main",{className:_Layout_module_css__WEBPACK_IMPORTED_MODULE_3___default.a.main+" "+(isFullWidth?_Layout_module_css__WEBPACK_IMPORTED_MODULE_3___default.a.fullMaxWidth:_Layout_module_css__WEBPACK_IMPORTED_MODULE_3___default.a.maxWidth),children:children})]})]})});__webpack_exports__.a=Layout;try{Layout.displayName="Layout",Layout.__docgenInfo={description:"",displayName:"Layout",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},user:{defaultValue:null,description:"",name:"user",required:!0,type:{name:"IAnnoRepUser | null"}},isFullWidth:{defaultValue:null,description:"",name:"isFullWidth",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["features/components/Layout/index.tsx#Layout"]={docgenInfo:Layout.__docgenInfo,name:"Layout",path:"features/components/Layout/index.tsx#Layout"})}catch(__react_docgen_typescript_loader_error){}},336:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1316);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},337:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1326);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},338:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1350);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},339:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1354);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},340:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1357);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},41:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1243);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},443:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1325);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},50:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return AtiTab})),__webpack_require__.d(__webpack_exports__,"c",(function(){return tabs})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ATI_HEADER_HTML}));var AtiTab={summary:{id:"summary",label:"Summary"},manuscript:{id:"manuscript",label:"Manuscript"},exportAnnotations:{id:"exportAnnotations",label:"Export annotations"},settings:{id:"settings",label:"Settings"}},tabs=[AtiTab.summary.id,AtiTab.manuscript.id,AtiTab.exportAnnotations.id,AtiTab.settings.id],ATI_HEADER_HTML='<a href="https://qdr.syr.edu/ati"><img src="https://qdr.syr.edu/drupal_data/public/ati_banner_long.png" align="left"/></a><br>'},52:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return axiosClient}));__webpack_require__(80),__webpack_require__(95);var axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(186),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__),axios_retry__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(335),HYPOTHESIS_API_BASE_URL=Object({NODE_ENV:"production",NODE_PATH:[],STORYBOOK:"true",PUBLIC_URL:"."}).HYPOTHESIS_SERVER_URL||"https://api.hypothes.is",axiosClient=axios__WEBPACK_IMPORTED_MODULE_2___default.a.create();Object(axios_retry__WEBPACK_IMPORTED_MODULE_3__.a)(axiosClient,{retries:5,retryDelay:function retryDelay(retryCount,error){if(error.response){var _error$config$url,retryAfter=error.response.headers["retry-after"];if(retryAfter)return retryAfter;if(429===error.response.status&&null!==(_error$config$url=error.config.url)&&void 0!==_error$config$url&&_error$config$url.includes(HYPOTHESIS_API_BASE_URL))return 2e3*retryCount}return axios_retry__WEBPACK_IMPORTED_MODULE_3__.a.exponentialDelay(retryCount)},retryCondition:function retryCondition(e){var _e$response$config$ur;if(e.response&&(429===e.response.status&&null!==(_e$response$config$ur=e.response.config.url)&&void 0!==_e$response$config$ur&&_e$response$config$ur.includes(HYPOTHESIS_API_BASE_URL)))return!0;return axios_retry__WEBPACK_IMPORTED_MODULE_3__.a.isNetworkOrIdempotentRequestError(e)}})},641:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__page",(function(){return __page}));__webpack_require__(32),__webpack_require__(1217),__webpack_require__(8),__webpack_require__(12),__webpack_require__(0);var _mdx_js_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(72),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(320),_excluded=["components"];function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.b,{title:"Getting Started/Introduction",mdxType:"Meta"}),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("h1",{id:"annorep-frontend"},"AnnoREP Frontend"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"Anno-REP is an open-source, web-based tool that will help facilitate ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{parentName:"p",href:"https://qdr.syr.edu/ati",target:"_blank",rel:"nofollow noopener noreferrer"},"Annotation for Transprent Inquiry (ATI)")," and other annotation-based workflows.\nPlease see this ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{parentName:"p",href:"https://github.com/QualitativeDataRepository/Anno-REP/blob/master/docs/index.md",target:"_blank",rel:"nofollow noopener noreferrer"},"document")," for more information."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("h1",{id:"storybook"},"Storybook"),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"This App's documentation is developed using ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("a",{parentName:"p",href:"https://storybook.js.org",target:"_blank",rel:"nofollow noopener noreferrer"},"Storybook"),"."),Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("p",null,"Storybook helps you build UI components in isolation from your app's business logic, data, and context.\nThat makes it easy to develop hard-to-reach states. Save these UI states as ",Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)("strong",{parentName:"p"},"stories")," to revisit during development, testing, or QA."))}MDXContent.displayName="MDXContent",MDXContent.isMDXComponent=!0;var __page=function __page(){throw new Error("Docs-only story")};__page.parameters={docsOnly:!0};var componentMeta={title:"Getting Started/Introduction",includeStories:["__page"]},mdxStoryNameToKey={};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_6__.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(_mdx_js_react__WEBPACK_IMPORTED_MODULE_5__.b)(MDXContent,null))}}),__webpack_exports__.default=componentMeta},657:function(module,exports){},696:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1262);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},700:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1349);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},702:function(module,exports,__webpack_require__){var api=__webpack_require__(77),content=__webpack_require__(1356);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},734:function(module,exports,__webpack_require__){__webpack_require__(735),__webpack_require__(927),__webpack_require__(928),__webpack_require__(1364),__webpack_require__(1358),__webpack_require__(1368),__webpack_require__(1365),__webpack_require__(1359),__webpack_require__(1369),__webpack_require__(1360),__webpack_require__(1361),__webpack_require__(1117),__webpack_require__(1207),__webpack_require__(1370),module.exports=__webpack_require__(1215)},806:function(module,exports){},82:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return httpRequestUtils_getMessageFromError}));var axios=__webpack_require__(186),axios_default=__webpack_require__.n(axios),httpRequestUtils_getMessageFromError=function getMessageFromError(e){var msg,_e$response2;axios_default.a.isAxiosError(e)?msg=null===(_e$response2=e.response)||void 0===_e$response2?void 0:_e$response2.data.message:msg=e instanceof Error?e.message:""+e;return msg}},84:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return HYPOTHESIS_PUBLIC_GROUP_ID})),__webpack_require__.d(__webpack_exports__,"c",(function(){return REQUEST_BATCH_SIZE})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ANNOTATIONS_MAX_LIMIT}));var HYPOTHESIS_PUBLIC_GROUP_ID="__world__",REQUEST_BATCH_SIZE=30,ANNOTATIONS_MAX_LIMIT=200},843:function(module,exports){},85:function(module,__webpack_exports__,__webpack_require__){"use strict";var ManuscriptMimeType,ManuscriptFileExtension,MimeTypeHex;__webpack_require__.d(__webpack_exports__,"b",(function(){return ManuscriptMimeType})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ManuscriptFileExtension})),__webpack_require__.d(__webpack_exports__,"c",(function(){return MimeTypeHex})),function(ManuscriptMimeType){ManuscriptMimeType.docx="application/vnd.openxmlformats-officedocument.wordprocessingml.document",ManuscriptMimeType.pdf="application/pdf"}(ManuscriptMimeType||(ManuscriptMimeType={})),function(ManuscriptFileExtension){ManuscriptFileExtension.docx=".docx",ManuscriptFileExtension.pdf=".pdf"}(ManuscriptFileExtension||(ManuscriptFileExtension={})),function(MimeTypeHex){MimeTypeHex.docx="504b34",MimeTypeHex.pdf="25504446"}(MimeTypeHex||(MimeTypeHex={}))},928:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(505)},98:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return getAnnotations})),__webpack_require__.d(__webpack_exports__,"a",(function(){return deleteAnnotations})),__webpack_require__.d(__webpack_exports__,"b",(function(){return exportAnnotations}));var _home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(152),_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(29),_features_app__WEBPACK_IMPORTED_MODULE_21__=(__webpack_require__(54),__webpack_require__(13),__webpack_require__(99),__webpack_require__(42),__webpack_require__(60),__webpack_require__(86),__webpack_require__(26),__webpack_require__(24),__webpack_require__(19),__webpack_require__(16),__webpack_require__(23),__webpack_require__(33),__webpack_require__(9),__webpack_require__(36),__webpack_require__(8),__webpack_require__(15),__webpack_require__(27),__webpack_require__(1241),__webpack_require__(52)),_hooks_useTask_state__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(184),_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__=(__webpack_require__(50),__webpack_require__(84)),_arrayUtils__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(187);function _createForOfIteratorHelper(o,allowArrayLike){var it;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function F(){};return{s:F,n:function n(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function e(_e){throw _e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function s(){it=o[Symbol.iterator]()},n:function n(){var step=it.next();return normalCompletion=step.done,step},e:function e(_e2){didErr=!0,err=_e2},f:function f(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function getTotalAnnotations(_x){return _getTotalAnnotations.apply(this,arguments)}function _getTotalAnnotations(){return(_getTotalAnnotations=Object(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee(args){var datasetId,hypothesisGroup,isAdminDownloader,_yield$axiosClient$ge,totalAnns;return _home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return datasetId=args.datasetId,hypothesisGroup=args.hypothesisGroup,isAdminDownloader=args.isAdminDownloader,_context.next=3,_features_app__WEBPACK_IMPORTED_MODULE_21__.a.get("/api/hypothesis/"+datasetId+"/total-annotations",{params:{hypothesisGroup:hypothesisGroup,isAdminDownloader:isAdminDownloader},headers:{Accept:"application/json"}});case 3:return _yield$axiosClient$ge=_context.sent,totalAnns=_yield$axiosClient$ge.data,_context.abrupt("return",totalAnns.total);case 6:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function getAnnotations(_x2){return _getAnnotations.apply(this,arguments)}function _getAnnotations(){return(_getAnnotations=Object(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee2(args){var _ref2,datasetId,hypothesisGroup,isAdminDownloader,total,offsets,batches,responses,allRows,annotations;return _home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return datasetId=args.datasetId,hypothesisGroup=args.hypothesisGroup,isAdminDownloader=args.isAdminDownloader,_context2.next=3,getTotalAnnotations(args);case 3:return total=_context2.sent,offsets=Object(_arrayUtils__WEBPACK_IMPORTED_MODULE_25__.a)(0,total-1,_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.a),batches=Object(_arrayUtils__WEBPACK_IMPORTED_MODULE_25__.a)(0,offsets.length-1,_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.c),_context2.next=8,batches.reduce((function(promise,start){return promise.then((function(acc){var downloadAnns=offsets.slice(start,start+_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.c).map((function(offset){return _features_app__WEBPACK_IMPORTED_MODULE_21__.a.get("/api/hypothesis/"+datasetId+"/download-annotations",{params:{offset:offset,hypothesisGroup:hypothesisGroup,isAdminDownloader:isAdminDownloader,limit:_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.a},headers:{Accept:"application/json"}})}));return Promise.all(downloadAnns).then((function(resp){return acc.concat(resp)}))}))}),Promise.resolve([]));case 8:return responses=_context2.sent,allRows=responses.map((function(_ref){return _ref.data.rows})),annotations=(_ref2=[]).concat.apply(_ref2,Object(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(allRows)),_context2.abrupt("return",annotations);case 12:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function deleteAnnotations(_x3){return _deleteAnnotations.apply(this,arguments)}function _deleteAnnotations(){return(_deleteAnnotations=Object(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee3(args){var datasetId,annotations,isAdminAuthor,taskDispatch,totalDeleted,anns,offsets,_iterator,_step,_offset,_toDeleteAnns,_response;return _home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:datasetId=args.datasetId,annotations=args.annotations,isAdminAuthor=args.isAdminAuthor,taskDispatch=args.taskDispatch,totalDeleted=0,anns=annotations.map((function(ann){return{id:ann.id,permissions:{delete:ann.permissions.delete}}})),offsets=Object(_arrayUtils__WEBPACK_IMPORTED_MODULE_25__.a)(0,annotations.length-1,_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.c),_iterator=_createForOfIteratorHelper(offsets),_context3.prev=5,_iterator.s();case 7:if((_step=_iterator.n()).done){_context3.next=17;break}return _offset=_step.value,_toDeleteAnns=anns.slice(_offset,_offset+_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.c),taskDispatch&&taskDispatch({type:_hooks_useTask_state__WEBPACK_IMPORTED_MODULE_22__.a.NEXT_STEP,payload:"Processing "+(_offset+1)+" to "+Math.min(_offset+_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.c,annotations.length)+" of "+annotations.length+" annotations..."}),_context3.next=13,_features_app__WEBPACK_IMPORTED_MODULE_21__.a.delete("/api/hypothesis/"+datasetId+"/delete-annotations",{data:JSON.stringify({isAdminAuthor:isAdminAuthor,annotations:_toDeleteAnns}),headers:{"Content-Type":"application/json"}});case 13:_response=_context3.sent,totalDeleted+=_response.data.total;case 15:_context3.next=7;break;case 17:_context3.next=22;break;case 19:_context3.prev=19,_context3.t0=_context3.catch(5),_iterator.e(_context3.t0);case 22:return _context3.prev=22,_iterator.f(),_context3.finish(22);case 25:return _context3.abrupt("return",totalDeleted);case 26:case"end":return _context3.stop()}}),_callee3,null,[[5,19,22,25]])})))).apply(this,arguments)}function exportAnnotations(_x4){return _exportAnnotations.apply(this,arguments)}function _exportAnnotations(){return(_exportAnnotations=Object(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function _callee4(args){var datasetId,sourceHypothesisGroup,isAdminDownloader,destinationUrl,destinationHypothesisGroup,privateAnnotation,isAdminAuthor,taskDispatch,addQdrInfo,total,totalExported,offsets,_iterator2,_step2,_offset2,_response2;return _home_runner_work_AnnoREP_Frontend_AnnoREP_Frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return datasetId=args.datasetId,sourceHypothesisGroup=args.sourceHypothesisGroup,isAdminDownloader=args.isAdminDownloader,destinationUrl=args.destinationUrl,destinationHypothesisGroup=args.destinationHypothesisGroup,privateAnnotation=args.privateAnnotation,isAdminAuthor=args.isAdminAuthor,taskDispatch=args.taskDispatch,addQdrInfo=args.addQdrInfo,_context4.next=3,getTotalAnnotations({datasetId:datasetId,isAdminDownloader:isAdminDownloader,hypothesisGroup:sourceHypothesisGroup});case 3:total=_context4.sent,totalExported=0,offsets=Object(_arrayUtils__WEBPACK_IMPORTED_MODULE_25__.a)(0,total-1,_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.c),_iterator2=_createForOfIteratorHelper(offsets),_context4.prev=7,_iterator2.s();case 9:if((_step2=_iterator2.n()).done){_context4.next=18;break}return _offset2=_step2.value,taskDispatch({type:_hooks_useTask_state__WEBPACK_IMPORTED_MODULE_22__.a.NEXT_STEP,payload:"Processing "+(_offset2+1)+" to "+Math.min(_offset2+_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.c,total)+" of "+total+" annotations..."}),_context4.next=14,_features_app__WEBPACK_IMPORTED_MODULE_21__.a.post("/api/hypothesis/"+datasetId+"/export-annotations",JSON.stringify({sourceHypothesisGroup:sourceHypothesisGroup,isAdminDownloader:isAdminDownloader,offset:_offset2,destinationUrl:destinationUrl,destinationHypothesisGroup:destinationHypothesisGroup,isAdminAuthor:isAdminAuthor,privateAnnotation:privateAnnotation,addQdrInfo:!!addQdrInfo,limit:_constants_hypothesis__WEBPACK_IMPORTED_MODULE_24__.c}),{headers:{"Content-Type":"application/json"}});case 14:_response2=_context4.sent,totalExported+=_response2.data.total;case 16:_context4.next=9;break;case 18:_context4.next=23;break;case 20:_context4.prev=20,_context4.t0=_context4.catch(7),_iterator2.e(_context4.t0);case 23:return _context4.prev=23,_iterator2.f(),_context4.finish(23);case 26:if(!addQdrInfo){_context4.next=29;break}return _context4.next=29,_features_app__WEBPACK_IMPORTED_MODULE_21__.a.post("/api/hypothesis/"+datasetId+"/title-annotation",{destinationUrl:destinationUrl,destinationHypothesisGroup:destinationHypothesisGroup,privateAnnotation:privateAnnotation,manuscriptId:addQdrInfo.manuscriptId,datasetDoi:addQdrInfo.datasetDoi});case 29:return _context4.abrupt("return",totalExported);case 30:case"end":return _context4.stop()}}),_callee4,null,[[7,20,23,26]])})))).apply(this,arguments)}}},[[734,2,3]]]);